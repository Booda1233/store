import{r as D,j as Se}from"./react-CS5bnQC-.js";var Vn={exports:{}},Ln={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo;function Su(){return vo||(vo=1,function(t){function e(A,U){var G=A.length;A.push(U);e:for(;0<G;){var Z=G-1>>>1,ee=A[Z];if(0<o(ee,U))A[Z]=U,A[G]=ee,G=Z;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var U=A[0],G=A.pop();if(G!==U){A[0]=G;e:for(var Z=0,ee=A.length,Kt=ee>>>1;Z<Kt;){var be=2*(Z+1)-1,kn=A[be],Be=be+1,zt=A[Be];if(0>o(kn,G))Be<ee&&0>o(zt,kn)?(A[Z]=zt,A[Be]=G,Z=Be):(A[Z]=kn,A[be]=G,Z=be);else if(Be<ee&&0>o(zt,G))A[Z]=zt,A[Be]=G,Z=Be;else break e}}return U}function o(A,U){var G=A.sortIndex-U.sortIndex;return G!==0?G:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],c=[],d=1,h=null,p=3,m=!1,g=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(A){for(var U=n(c);U!==null;){if(U.callback===null)i(c);else if(U.startTime<=A)i(c),U.sortIndex=U.expirationTime,e(f,U);else break;U=n(c)}}function E(A){if(y=!1,S(A),!g)if(n(f)!==null)g=!0,we(_);else{var U=n(c);U!==null&&j(E,U.startTime-A)}}function _(A,U){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var G=p;try{for(S(U),h=n(f);h!==null&&(!(h.expirationTime>U)||A&&!$());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var ee=Z(h.expirationTime<=U);U=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(f)&&i(f),S(U)}else i(f);h=n(f)}if(h!==null)var Kt=!0;else{var be=n(c);be!==null&&j(E,be.startTime-U),Kt=!1}return Kt}finally{h=null,p=G,m=!1}}var M=!1,N=null,I=-1,w=5,B=-1;function $(){return!(t.unstable_now()-B<w)}function te(){if(N!==null){var A=t.unstable_now();B=A;var U=!0;try{U=N(!0,A)}finally{U?me():(M=!1,N=null)}}else M=!1}var me;if(typeof C=="function")me=function(){C(te)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,ue=Re.port2;Re.port1.onmessage=te,me=function(){ue.postMessage(null)}}else me=function(){T(te,0)};function we(A){N=A,M||(M=!0,me())}function j(A,U){I=T(function(){A(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,we(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(A){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var G=p;p=U;try{return A()}finally{p=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var G=p;p=A;try{return U()}finally{p=G}},t.unstable_scheduleCallback=function(A,U,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=G+ee,A={id:d++,callback:U,priorityLevel:A,startTime:G,expirationTime:ee,sortIndex:-1},G>Z?(A.sortIndex=G,e(c,A),n(f)===null&&A===n(c)&&(y?(v(I),I=-1):y=!0,j(E,G-Z))):(A.sortIndex=ee,e(f,A),g||m||(g=!0,we(_))),A},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(A){var U=p;return function(){var G=p;p=U;try{return A.apply(this,arguments)}finally{p=G}}}}(Ln)),Ln}var To;function GE(){return To||(To=1,Vn.exports=Su()),Vn.exports}var St={},Co;function Eu(){if(Co)return St;Co=1,Object.defineProperty(St,"__esModule",{value:!0}),St.parse=l,St.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function l(p,m){const g=new a,y=p.length;if(y<2)return g;const T=(m==null?void 0:m.decode)||d;let v=0;do{const C=p.indexOf("=",v);if(C===-1)break;const S=p.indexOf(";",v),E=S===-1?y:S;if(C>E){v=p.lastIndexOf(";",C-1)+1;continue}const _=u(p,v,C),M=f(p,C,_),N=p.slice(_,M);if(g[N]===void 0){let I=u(p,C+1,E),w=f(p,E,I);const B=T(p.slice(I,w));g[N]=B}v=E+1}while(v<y);return g}function u(p,m,g){do{const y=p.charCodeAt(m);if(y!==32&&y!==9)return m}while(++m<g);return g}function f(p,m,g){for(;m>g;){const y=p.charCodeAt(--m);if(y!==32&&y!==9)return m+1}return g}function c(p,m,g){const y=(g==null?void 0:g.encode)||encodeURIComponent;if(!t.test(p))throw new TypeError(`argument name is invalid: ${p}`);const T=y(m);if(!e.test(T))throw new TypeError(`argument val is invalid: ${m}`);let v=p+"="+T;if(!g)return v;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);v+="; Max-Age="+g.maxAge}if(g.domain){if(!n.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);v+="; Domain="+g.domain}if(g.path){if(!i.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);v+="; Path="+g.path}if(g.expires){if(!h(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);v+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(v+="; HttpOnly"),g.secure&&(v+="; Secure"),g.partitioned&&(v+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return v}function d(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return o.call(p)==="[object Date]"}return St}Eu();const Di=D.createContext({});function Ni(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const En=D.createContext(null),ki=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xu extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Au({children:t,isPresent:e}){const n=D.useId(),i=D.useRef(null),o=D.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=D.useContext(ki);return D.useInsertionEffect(()=>{const{width:l,height:u,top:f,left:c}=o.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${f}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),Se.jsx(xu,{isPresent:e,childRef:i,sizeRef:o,children:D.cloneElement(t,{ref:i})})}const Mu=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:l})=>{const u=Ni(Pu),f=D.useId(),c=D.useCallback(h=>{u.set(h,!0);for(const p of u.values())if(!p)return;i&&i()},[u,i]),d=D.useMemo(()=>({id:f,initial:e,isPresent:n,custom:o,onExitComplete:c,register:h=>(u.set(h,!1),()=>u.delete(h))}),a?[Math.random(),c]:[n,c]);return D.useMemo(()=>{u.forEach((h,p)=>u.set(p,!1))},[n]),D.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),l==="popLayout"&&(t=Se.jsx(Au,{isPresent:n,children:t})),Se.jsx(En.Provider,{value:d,children:t})};function Pu(){return new Map}function pa(t=!0){const e=D.useContext(En);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=D.useId();D.useEffect(()=>{t&&o(a)},[t]);const l=D.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,l]:[!0]}const Yt=t=>t.key||"";function _o(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const Vi=typeof window<"u",ma=Vi?D.useLayoutEffect:D.useEffect,qE=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:l=!1})=>{const[u,f]=pa(l),c=D.useMemo(()=>_o(t),[t]),d=l&&!u?[]:c.map(Yt),h=D.useRef(!0),p=D.useRef(c),m=Ni(()=>new Map),[g,y]=D.useState(c),[T,v]=D.useState(c);ma(()=>{h.current=!1,p.current=c;for(let E=0;E<T.length;E++){const _=Yt(T[E]);d.includes(_)?m.delete(_):m.get(_)!==!0&&m.set(_,!1)}},[T,d.length,d.join("-")]);const C=[];if(c!==g){let E=[...c];for(let _=0;_<T.length;_++){const M=T[_],N=Yt(M);d.includes(N)||(E.splice(_,0,M),C.push(M))}a==="wait"&&C.length&&(E=C),v(_o(E)),y(c);return}const{forceRender:S}=D.useContext(Di);return Se.jsx(Se.Fragment,{children:T.map(E=>{const _=Yt(E),M=l&&!u?!1:c===T||d.includes(_),N=()=>{if(m.has(_))m.set(_,!0);else return;let I=!0;m.forEach(w=>{w||(I=!1)}),I&&(S==null||S(),v(p.current),l&&(f==null||f()),i&&i())};return Se.jsx(Mu,{isPresent:M,initial:!h.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:M?void 0:N,children:E},_)})})},ae=t=>t;let ga=ae;function Li(t){let e;return()=>(e===void 0&&(e=t()),e)}const lt=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Ee=t=>t*1e3,xe=t=>t/1e3,Iu={useManualTiming:!1};function Ru(t){let e=new Set,n=new Set,i=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(c){a.has(c)&&(f.schedule(c),t()),c(l)}const f={schedule:(c,d=!1,h=!1)=>{const m=h&&i?e:n;return d&&a.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(l=c,i){o=!0;return}i=!0,[e,n]=[n,e],e.forEach(u),e.clear(),i=!1,o&&(o=!1,f.process(c))}};return f}const Zt=["read","resolveKeyframes","update","preRender","render","postRender"],wu=40;function ya(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Zt.reduce((v,C)=>(v[C]=Ru(a),v),{}),{read:u,resolveKeyframes:f,update:c,preRender:d,render:h,postRender:p}=l,m=()=>{const v=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(v-o.timestamp,wu),1),o.timestamp=v,o.isProcessing=!0,u.process(o),f.process(o),c.process(o),d.process(o),h.process(o),p.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(m))},g=()=>{n=!0,i=!0,o.isProcessing||t(m)};return{schedule:Zt.reduce((v,C)=>{const S=l[C];return v[C]=(E,_=!1,M=!1)=>(n||g(),S.schedule(E,_,M)),v},{}),cancel:v=>{for(let C=0;C<Zt.length;C++)l[Zt[C]].cancel(v)},state:o,steps:l}}const{schedule:K,cancel:Ve,state:ne,steps:Fn}=ya(typeof requestAnimationFrame<"u"?requestAnimationFrame:ae,!0),va=D.createContext({strict:!1}),So={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ut={};for(const t in So)ut[t]={isEnabled:e=>So[t].some(n=>!!e[n])};function Du(t){for(const e in t)ut[e]={...ut[e],...t[e]}}const Nu=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ln(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Nu.has(t)}let Ta=t=>!ln(t);function ku(t){t&&(Ta=e=>e.startsWith("on")?!ln(e):t(e))}try{ku(require("@emotion/is-prop-valid").default)}catch{}function Vu(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ta(o)||n===!0&&ln(o)||!e&&!ln(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function Lu(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const xn=D.createContext({});function Lt(t){return typeof t=="string"||Array.isArray(t)}function An(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Fi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ui=["initial",...Fi];function Mn(t){return An(t.animate)||Ui.some(e=>Lt(t[e]))}function Ca(t){return!!(Mn(t)||t.variants)}function Fu(t,e){if(Mn(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Lt(n)?n:void 0,animate:Lt(i)?i:void 0}}return t.inherit!==!1?e:{}}function Uu(t){const{initial:e,animate:n}=Fu(t,D.useContext(xn));return D.useMemo(()=>({initial:e,animate:n}),[Eo(e),Eo(n)])}function Eo(t){return Array.isArray(t)?t.join(" "):t}const bu=Symbol.for("motionComponentSymbol");function et(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bu(t,e,n){return D.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):et(n)&&(n.current=i))},[e])}const bi=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gu="framerAppearId",_a="data-"+bi(Gu),{schedule:Bi}=ya(queueMicrotask,!1),Sa=D.createContext({});function qu(t,e,n,i,o){var a,l;const{visualElement:u}=D.useContext(xn),f=D.useContext(va),c=D.useContext(En),d=D.useContext(ki).reducedMotion,h=D.useRef(null);i=i||f.renderer,!h.current&&i&&(h.current=i(t,{visualState:e,parent:u,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,m=D.useContext(Sa);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&$u(h.current,n,o,m);const g=D.useRef(!1);D.useInsertionEffect(()=>{p&&g.current&&p.update(n,c)});const y=n[_a],T=D.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,y)));return ma(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Bi.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,y)}),T.current=!1))}),p}function $u(t,e,n,i){const{layoutId:o,layout:a,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ea(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||u&&et(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:c})}function Ea(t){if(t)return t.options.allowProjection!==!1?t.projection:Ea(t.parent)}function Ju({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){var a,l;t&&Du(t);function u(c,d){let h;const p={...D.useContext(ki),...c,layoutId:Hu(c)},{isStatic:m}=p,g=Uu(c),y=i(c,m);if(!m&&Vi){Ou();const T=Wu(p);h=T.MeasureLayout,g.visualElement=qu(o,y,p,e,T.ProjectionNode)}return Se.jsxs(xn.Provider,{value:g,children:[h&&g.visualElement?Se.jsx(h,{visualElement:g.visualElement,...p}):null,n(o,c,Bu(y,g.visualElement,d),y,m,g.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${(l=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&l!==void 0?l:""})`}`;const f=D.forwardRef(u);return f[bu]=o,f}function Hu({layoutId:t}){const e=D.useContext(Di).id;return e&&t!==void 0?e+"-"+t:t}function Ou(t,e){D.useContext(va).strict}function Wu(t){const{drag:e,layout:n}=ut;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Ku=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gi(t){return typeof t!="string"||t.includes("-")?!1:!!(Ku.indexOf(t)>-1||/[A-Z]/u.test(t))}function xo(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function qi(t,e,n,i){if(typeof e=="function"){const[o,a]=xo(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=xo(i);e=e(n!==void 0?n:t.custom,o,a)}return e}const Xn=t=>Array.isArray(t),zu=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Yu=t=>Xn(t)?t[t.length-1]||0:t,oe=t=>!!(t&&t.getVelocity);function tn(t){const e=oe(t)?t.get():t;return zu(e)?e.toValue():e}function Zu({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,o,a){const l={latestValues:Xu(i,o,a,t),renderState:e()};return n&&(l.onMount=u=>n({props:i,current:u,...l}),l.onUpdate=u=>n(u)),l}const xa=t=>(e,n)=>{const i=D.useContext(xn),o=D.useContext(En),a=()=>Zu(t,e,i,o);return n?a():Ni(a)};function Xu(t,e,n,i){const o={},a=i(t,{});for(const p in a)o[p]=tn(a[p]);let{initial:l,animate:u}=t;const f=Mn(t),c=Ca(t);e&&c&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let d=n?n.initial===!1:!1;d=d||l===!1;const h=d?u:l;if(h&&typeof h!="boolean"&&!An(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const g=qi(t,p[m]);if(g){const{transitionEnd:y,transition:T,...v}=g;for(const C in v){let S=v[C];if(Array.isArray(S)){const E=d?S.length-1:0;S=S[E]}S!==null&&(o[C]=S)}for(const C in y)o[C]=y[C]}}}return o}const gt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ze=new Set(gt),Aa=t=>e=>typeof e=="string"&&e.startsWith(t),Ma=Aa("--"),Qu=Aa("var(--"),$i=t=>Qu(t)?ju.test(t.split("/*")[0].trim()):!1,ju=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pa=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ae=(t,e,n)=>n>e?e:n<t?t:n,yt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ft={...yt,transform:t=>Ae(0,1,t)},Xt={...yt,default:1},$t=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),De=$t("deg"),ve=$t("%"),L=$t("px"),ec=$t("vh"),tc=$t("vw"),Ao={...ve,parse:t=>ve.parse(t)/100,transform:t=>ve.transform(t*100)},nc={borderWidth:L,borderTopWidth:L,borderRightWidth:L,borderBottomWidth:L,borderLeftWidth:L,borderRadius:L,radius:L,borderTopLeftRadius:L,borderTopRightRadius:L,borderBottomRightRadius:L,borderBottomLeftRadius:L,width:L,maxWidth:L,height:L,maxHeight:L,top:L,right:L,bottom:L,left:L,padding:L,paddingTop:L,paddingRight:L,paddingBottom:L,paddingLeft:L,margin:L,marginTop:L,marginRight:L,marginBottom:L,marginLeft:L,backgroundPositionX:L,backgroundPositionY:L},ic={rotate:De,rotateX:De,rotateY:De,rotateZ:De,scale:Xt,scaleX:Xt,scaleY:Xt,scaleZ:Xt,skew:De,skewX:De,skewY:De,distance:L,translateX:L,translateY:L,translateZ:L,x:L,y:L,z:L,perspective:L,transformPerspective:L,opacity:Ft,originX:Ao,originY:Ao,originZ:L},Mo={...yt,transform:Math.round},Ji={...nc,...ic,zIndex:Mo,size:L,fillOpacity:Ft,strokeOpacity:Ft,numOctaves:Mo},oc={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sc=gt.length;function rc(t,e,n){let i="",o=!0;for(let a=0;a<sc;a++){const l=gt[a],u=t[l];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(l.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const c=Pa(u,Ji[l]);if(!f){o=!1;const d=oc[l]||l;i+=`${d}(${c}) `}n&&(e[l]=c)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Hi(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let l=!1,u=!1;for(const f in e){const c=e[f];if(Ze.has(f)){l=!0;continue}else if(Ma(f)){o[f]=c;continue}else{const d=Pa(c,Ji[f]);f.startsWith("origin")?(u=!0,a[f]=d):i[f]=d}}if(e.transform||(l||n?i.transform=rc(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:c="50%",originZ:d=0}=a;i.transformOrigin=`${f} ${c} ${d}`}}const ac={offset:"stroke-dashoffset",array:"stroke-dasharray"},lc={offset:"strokeDashoffset",array:"strokeDasharray"};function uc(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?ac:lc;t[a.offset]=L.transform(-i);const l=L.transform(e),u=L.transform(n);t[a.array]=`${l} ${u}`}function Po(t,e,n){return typeof t=="string"?t:L.transform(e+n*t)}function cc(t,e,n){const i=Po(e,t.x,t.width),o=Po(n,t.y,t.height);return`${i} ${o}`}function Oi(t,{attrX:e,attrY:n,attrScale:i,originX:o,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...c},d,h){if(Hi(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:g}=t;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(o!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=cc(g,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),l!==void 0&&uc(p,l,u,f,!1)}const Wi=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Ia=()=>({...Wi(),attrs:{}}),Ki=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ra(t,{style:e,vars:n},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const wa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Da(t,e,n,i){Ra(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(wa.has(o)?o:bi(o),e.attrs[o])}const un={};function fc(t){Object.assign(un,t)}function Na(t,{layout:e,layoutId:n}){return Ze.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!un[t]||t==="opacity")}function zi(t,e,n){var i;const{style:o}=t,a={};for(const l in o)(oe(o[l])||e.style&&oe(e.style[l])||Na(l,t)||((i=n==null?void 0:n.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[l]=o[l]);return a}function ka(t,e,n){const i=zi(t,e,n);for(const o in t)if(oe(t[o])||oe(e[o])){const a=gt.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}function dc(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Io=["x","y","width","height","cx","cy","r"],hc={useVisualState:xa({scrapeMotionValuesFromProps:ka,createRenderState:Ia,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:o})=>{if(!n)return;let a=!!t.drag;if(!a){for(const u in o)if(Ze.has(u)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let u=0;u<Io.length;u++){const f=Io[u];t[f]!==e[f]&&(l=!0)}l&&K.read(()=>{dc(n,i),K.render(()=>{Oi(i,o,Ki(n.tagName),t.transformTemplate),Da(n,i)})})}})},pc={useVisualState:xa({scrapeMotionValuesFromProps:zi,createRenderState:Wi})};function Va(t,e,n){for(const i in e)!oe(e[i])&&!Na(i,n)&&(t[i]=e[i])}function mc({transformTemplate:t},e){return D.useMemo(()=>{const n=Wi();return Hi(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gc(t,e){const n=t.style||{},i={};return Va(i,n,t),Object.assign(i,mc(t,e)),i}function yc(t,e){const n={},i=gc(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function vc(t,e,n,i){const o=D.useMemo(()=>{const a=Ia();return Oi(a,e,Ki(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Va(a,t.style,t),o.style={...a,...o.style}}return o}function Tc(t=!1){return(n,i,o,{latestValues:a},l)=>{const f=(Gi(n)?vc:yc)(i,a,l,n),c=Vu(i,typeof n=="string",t),d=n!==D.Fragment?{...c,...f,ref:o}:{},{children:h}=i,p=D.useMemo(()=>oe(h)?h.get():h,[h]);return D.createElement(n,{...d,children:p})}}function Cc(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...Gi(i)?hc:pc,preloadedFeatures:t,useRender:Tc(o),createVisualElement:e,Component:i};return Ju(l)}}function La(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Pn(t,e,n){const i=t.getProps();return qi(i,e,n!==void 0?n:i.custom,t)}const _c=Li(()=>window.ScrollTimeline!==void 0);class Sc{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(o=>{if(_c()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ec extends Sc{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Yi(t,e){return t?t[e]||t.default||t:void 0}const Qn=2e4;function Fa(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Qn;)e+=n,i=t.next(e);return e>=Qn?1/0:e}function Zi(t){return typeof t=="function"}function Ro(t,e){t.timeline=e,t.onfinish=null}const Xi=t=>Array.isArray(t)&&typeof t[0]=="number",xc={linearEasing:void 0};function Ac(t,e){const n=Li(t);return()=>{var i;return(i=xc[e])!==null&&i!==void 0?i:n()}}const cn=Ac(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ua=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=t(lt(0,o-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function ba(t){return!!(typeof t=="function"&&cn()||!t||typeof t=="string"&&(t in jn||cn())||Xi(t)||Array.isArray(t)&&t.every(ba))}const At=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,jn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:At([0,.65,.55,1]),circOut:At([.55,0,1,.45]),backIn:At([.31,.01,.66,-.59]),backOut:At([.33,1.53,.69,.99])};function Ba(t,e){if(t)return typeof t=="function"&&cn()?Ua(t,e):Xi(t)?At(t):Array.isArray(t)?t.map(n=>Ba(n,e)||jn.easeOut):jn[t]}const pe={x:!1,y:!1};function Ga(){return pe.x||pe.y}function Mc(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const a=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function qa(t,e){const n=Mc(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function wo(t){return e=>{e.pointerType==="touch"||Ga()||t(e)}}function Pc(t,e,n={}){const[i,o,a]=qa(t,n),l=wo(u=>{const{target:f}=u,c=e(u);if(typeof c!="function"||!f)return;const d=wo(h=>{c(h),f.removeEventListener("pointerleave",d)});f.addEventListener("pointerleave",d,o)});return i.forEach(u=>{u.addEventListener("pointerenter",l,o)}),a}const $a=(t,e)=>e?t===e?!0:$a(t,e.parentElement):!1,Qi=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ic=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rc(t){return Ic.has(t.tagName)||t.tabIndex!==-1}const Mt=new WeakSet;function Do(t){return e=>{e.key==="Enter"&&t(e)}}function Un(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wc=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Do(()=>{if(Mt.has(n))return;Un(n,"down");const o=Do(()=>{Un(n,"up")}),a=()=>Un(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function No(t){return Qi(t)&&!Ga()}function Dc(t,e,n={}){const[i,o,a]=qa(t,n),l=u=>{const f=u.currentTarget;if(!No(u)||Mt.has(f))return;Mt.add(f);const c=e(u),d=(m,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),!(!No(m)||!Mt.has(f))&&(Mt.delete(f),typeof c=="function"&&c(m,{success:g}))},h=m=>{d(m,n.useGlobalTarget||$a(f,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",p,o)};return i.forEach(u=>{!Rc(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,o),u.addEventListener("focus",c=>wc(c,o),o)}),a}function Nc(t){return t==="x"||t==="y"?pe[t]?null:(pe[t]=!0,()=>{pe[t]=!1}):pe.x||pe.y?null:(pe.x=pe.y=!0,()=>{pe.x=pe.y=!1})}const Ja=new Set(["width","height","top","left","right","bottom",...gt]);let nn;function kc(){nn=void 0}const Te={now:()=>(nn===void 0&&Te.set(ne.isProcessing||Iu.useManualTiming?ne.timestamp:performance.now()),nn),set:t=>{nn=t,queueMicrotask(kc)}};function ji(t,e){t.indexOf(e)===-1&&t.push(e)}function eo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class to{constructor(){this.subscriptions=[]}add(e){return ji(this.subscriptions,e),()=>eo(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ha(t,e){return e?t*(1e3/e):0}const ko=30,Vc=t=>!isNaN(parseFloat(t));class Lc{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const a=Te.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Te.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Vc(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new to);const i=this.events[e].add(n);return e==="change"?()=>{i(),K.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Te.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ko)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ko);return Ha(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ut(t,e){return new Lc(t,e)}function Fc(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ut(n))}function Uc(t,e){const n=Pn(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const l in a){const u=Yu(a[l]);Fc(t,l,u)}}function bc(t){return!!(oe(t)&&t.add)}function ei(t,e){const n=t.getValue("willChange");if(bc(n))return n.add(e)}function Oa(t){return t.props[_a]}const Wa=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Bc=1e-7,Gc=12;function qc(t,e,n,i,o){let a,l,u=0;do l=e+(n-e)/2,a=Wa(l,i,o)-t,a>0?n=l:e=l;while(Math.abs(a)>Bc&&++u<Gc);return l}function Jt(t,e,n,i){if(t===e&&n===i)return ae;const o=a=>qc(a,0,1,t,n);return a=>a===0||a===1?a:Wa(o(a),e,i)}const Ka=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,za=t=>e=>1-t(1-e),Ya=Jt(.33,1.53,.69,.99),no=za(Ya),Za=Ka(no),Xa=t=>(t*=2)<1?.5*no(t):.5*(2-Math.pow(2,-10*(t-1))),io=t=>1-Math.sin(Math.acos(t)),Qa=za(io),ja=Ka(io),el=t=>/^0[^.\s]+$/u.test(t);function $c(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||el(t):!0}const wt=t=>Math.round(t*1e5)/1e5,oo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Jc(t){return t==null}const Hc=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,so=(t,e)=>n=>!!(typeof n=="string"&&Hc.test(n)&&n.startsWith(t)||e&&!Jc(n)&&Object.prototype.hasOwnProperty.call(n,e)),tl=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,l,u]=i.match(oo);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Oc=t=>Ae(0,255,t),bn={...yt,transform:t=>Math.round(Oc(t))},He={test:so("rgb","red"),parse:tl("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+bn.transform(t)+", "+bn.transform(e)+", "+bn.transform(n)+", "+wt(Ft.transform(i))+")"};function Wc(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const ti={test:so("#"),parse:Wc,transform:He.transform},tt={test:so("hsl","hue"),parse:tl("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ve.transform(wt(e))+", "+ve.transform(wt(n))+", "+wt(Ft.transform(i))+")"},ie={test:t=>He.test(t)||ti.test(t)||tt.test(t),parse:t=>He.test(t)?He.parse(t):tt.test(t)?tt.parse(t):ti.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?He.transform(t):tt.transform(t)},Kc=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zc(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(oo))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Kc))===null||n===void 0?void 0:n.length)||0)>0}const nl="number",il="color",Yc="var",Zc="var(",Vo="${}",Xc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bt(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const u=e.replace(Xc,f=>(ie.test(f)?(i.color.push(a),o.push(il),n.push(ie.parse(f))):f.startsWith(Zc)?(i.var.push(a),o.push(Yc),n.push(f)):(i.number.push(a),o.push(nl),n.push(parseFloat(f))),++a,Vo)).split(Vo);return{values:n,split:u,indexes:i,types:o}}function ol(t){return bt(t).values}function sl(t){const{split:e,types:n}=bt(t),i=e.length;return o=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],o[l]!==void 0){const u=n[l];u===nl?a+=wt(o[l]):u===il?a+=ie.transform(o[l]):a+=o[l]}return a}}const Qc=t=>typeof t=="number"?0:t;function jc(t){const e=ol(t);return sl(t)(e.map(Qc))}const Le={test:zc,parse:ol,createTransformer:sl,getAnimatableNone:jc},ef=new Set(["brightness","contrast","saturate","opacity"]);function tf(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(oo)||[];if(!i)return t;const o=n.replace(i,"");let a=ef.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const nf=/\b([a-z-]*)\(.*?\)/gu,ni={...Le,getAnimatableNone:t=>{const e=t.match(nf);return e?e.map(tf).join(" "):t}},of={...Ji,color:ie,backgroundColor:ie,outlineColor:ie,fill:ie,stroke:ie,borderColor:ie,borderTopColor:ie,borderRightColor:ie,borderBottomColor:ie,borderLeftColor:ie,filter:ni,WebkitFilter:ni},ro=t=>of[t];function rl(t,e){let n=ro(t);return n!==ni&&(n=Le),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sf=new Set(["auto","none","0"]);function rf(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!sf.has(a)&&bt(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=rl(n,o)}const Lo=t=>t===yt||t===L,Fo=(t,e)=>parseFloat(t.split(", ")[e]),Uo=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Fo(o[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?Fo(a[1],t):0}},af=new Set(["x","y","z"]),lf=gt.filter(t=>!af.has(t));function uf(t){const e=[];return lf.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ct={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Uo(4,13),y:Uo(5,14)};ct.translateX=ct.x;ct.translateY=ct.y;const Oe=new Set;let ii=!1,oi=!1;function al(){if(oi){const t=Array.from(Oe).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=uf(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,l])=>{var u;(u=i.getValue(a))===null||u===void 0||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}oi=!1,ii=!1,Oe.forEach(t=>t.complete()),Oe.clear()}function ll(){Oe.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oi=!0)})}function cf(){ll(),al()}class ao{constructor(e,n,i,o,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oe.add(this),ii||(ii=!0,K.read(ll),K.resolveKeyframes(al))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=o==null?void 0:o.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oe.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oe.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ul=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),ff=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function df(t){const e=ff.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function cl(t,e,n=1){const[i,o]=df(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return ul(l)?parseFloat(l):l}return $i(o)?cl(o,e,n+1):o}const fl=t=>e=>e.test(t),hf={test:t=>t==="auto",parse:t=>t},dl=[yt,L,ve,De,tc,ec,hf],bo=t=>dl.find(fl(t));class hl extends ao{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let c=e[f];if(typeof c=="string"&&(c=c.trim(),$i(c))){const d=cl(c,n.current);d!==void 0&&(e[f]=d),f===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Ja.has(i)||e.length!==2)return;const[o,a]=e,l=bo(o),u=bo(a);if(l!==u)if(Lo(l)&&Lo(u))for(let f=0;f<e.length;f++){const c=e[f];typeof c=="string"&&(e[f]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)$c(e[o])&&i.push(o);i.length&&rf(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ct[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const l=o.length-1,u=o[l];o[l]=ct[i](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,c])=>{n.getValue(f).set(c)}),this.resolveNoneKeyframes()}}const Bo=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Le.test(t)||t==="0")&&!t.startsWith("url("));function pf(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mf(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Bo(o,e),u=Bo(a,e);return!l||!u?!1:pf(t)||(n==="spring"||Zi(n))&&i}const gf=t=>t!==null;function In(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(gf),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}const yf=40;class pl{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Te.now(),this.options={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yf?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cf(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Te.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:a,delay:l,onComplete:u,onUpdate:f,isGenerator:c}=this.options;if(!c&&!mf(e,i,o,a))if(l)this.options.duration=0;else{f&&f(In(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const z=(t,e,n)=>t+(e-t)*n;function Bn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vf({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,l=0;if(!e)o=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;o=Bn(f,u,t+1/3),a=Bn(f,u,t),l=Bn(f,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function fn(t,e){return n=>n>0?e:t}const Gn=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},Tf=[ti,He,tt],Cf=t=>Tf.find(e=>e.test(t));function Go(t){const e=Cf(t);if(!e)return!1;let n=e.parse(t);return e===tt&&(n=vf(n)),n}const qo=(t,e)=>{const n=Go(t),i=Go(e);if(!n||!i)return fn(t,e);const o={...n};return a=>(o.red=Gn(n.red,i.red,a),o.green=Gn(n.green,i.green,a),o.blue=Gn(n.blue,i.blue,a),o.alpha=z(n.alpha,i.alpha,a),He.transform(o))},_f=(t,e)=>n=>e(t(n)),Ht=(...t)=>t.reduce(_f),si=new Set(["none","hidden"]);function Sf(t,e){return si.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ef(t,e){return n=>z(t,e,n)}function lo(t){return typeof t=="number"?Ef:typeof t=="string"?$i(t)?fn:ie.test(t)?qo:Mf:Array.isArray(t)?ml:typeof t=="object"?ie.test(t)?qo:xf:fn}function ml(t,e){const n=[...t],i=n.length,o=t.map((a,l)=>lo(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)n[l]=o[l](a);return n}}function xf(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=lo(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function Af(t,e){var n;const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][o[l]],f=(n=t.values[u])!==null&&n!==void 0?n:0;i[a]=f,o[l]++}return i}const Mf=(t,e)=>{const n=Le.createTransformer(e),i=bt(t),o=bt(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?si.has(t)&&!o.values.length||si.has(e)&&!i.values.length?Sf(t,e):Ht(ml(Af(i,o),o.values),n):fn(t,e)};function gl(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?z(t,e,n):lo(t)(t,e)}const Pf=5;function yl(t,e,n){const i=Math.max(e-Pf,0);return Ha(n-t(i),e-i)}const Y={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qn=.001;function If({duration:t=Y.duration,bounce:e=Y.bounce,velocity:n=Y.velocity,mass:i=Y.mass}){let o,a,l=1-e;l=Ae(Y.minDamping,Y.maxDamping,l),t=Ae(Y.minDuration,Y.maxDuration,xe(t)),l<1?(o=c=>{const d=c*l,h=d*t,p=d-n,m=ri(c,l),g=Math.exp(-h);return qn-p/m*g},a=c=>{const h=c*l*t,p=h*n+n,m=Math.pow(l,2)*Math.pow(c,2)*t,g=Math.exp(-h),y=ri(Math.pow(c,2),l);return(-o(c)+qn>0?-1:1)*((p-m)*g)/y}):(o=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-qn+d*h},a=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const u=5/t,f=wf(o,a,u);if(t=Ee(t),isNaN(f))return{stiffness:Y.stiffness,damping:Y.damping,duration:t};{const c=Math.pow(f,2)*i;return{stiffness:c,damping:l*2*Math.sqrt(i*c),duration:t}}}const Rf=12;function wf(t,e,n){let i=n;for(let o=1;o<Rf;o++)i=i-t(i)/e(i);return i}function ri(t,e){return t*Math.sqrt(1-e*e)}const Df=["duration","bounce"],Nf=["stiffness","damping","mass"];function $o(t,e){return e.some(n=>t[n]!==void 0)}function kf(t){let e={velocity:Y.velocity,stiffness:Y.stiffness,damping:Y.damping,mass:Y.mass,isResolvedFromDuration:!1,...t};if(!$o(t,Nf)&&$o(t,Df))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Ae(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Y.mass,stiffness:o,damping:a}}else{const n=If(t);e={...e,...n,mass:Y.mass},e.isResolvedFromDuration=!0}return e}function vl(t=Y.visualDuration,e=Y.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:m}=kf({...n,velocity:-xe(n.velocity||0)}),g=p||0,y=c/(2*Math.sqrt(f*d)),T=l-a,v=xe(Math.sqrt(f/d)),C=Math.abs(T)<5;i||(i=C?Y.restSpeed.granular:Y.restSpeed.default),o||(o=C?Y.restDelta.granular:Y.restDelta.default);let S;if(y<1){const _=ri(v,y);S=M=>{const N=Math.exp(-y*v*M);return l-N*((g+y*v*T)/_*Math.sin(_*M)+T*Math.cos(_*M))}}else if(y===1)S=_=>l-Math.exp(-v*_)*(T+(g+v*T)*_);else{const _=v*Math.sqrt(y*y-1);S=M=>{const N=Math.exp(-y*v*M),I=Math.min(_*M,300);return l-N*((g+y*v*T)*Math.sinh(I)+_*T*Math.cosh(I))/_}}const E={calculatedDuration:m&&h||null,next:_=>{const M=S(_);if(m)u.done=_>=h;else{let N=0;y<1&&(N=_===0?Ee(g):yl(S,_,M));const I=Math.abs(N)<=i,w=Math.abs(l-M)<=o;u.done=I&&w}return u.value=u.done?l:M,u},toString:()=>{const _=Math.min(Fa(E),Qn),M=Ua(N=>E.next(_*N).value,_,30);return _+"ms "+M}};return E}function Jo({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},m=I=>u!==void 0&&I<u||f!==void 0&&I>f,g=I=>u===void 0?f:f===void 0||Math.abs(u-I)<Math.abs(f-I)?u:f;let y=n*e;const T=h+y,v=l===void 0?T:l(T);v!==T&&(y=v-h);const C=I=>-y*Math.exp(-I/i),S=I=>v+C(I),E=I=>{const w=C(I),B=S(I);p.done=Math.abs(w)<=c,p.value=p.done?v:B};let _,M;const N=I=>{m(p.value)&&(_=I,M=vl({keyframes:[p.value,g(p.value)],velocity:yl(S,I,p.value),damping:o,stiffness:a,restDelta:c,restSpeed:d}))};return N(0),{calculatedDuration:null,next:I=>{let w=!1;return!M&&_===void 0&&(w=!0,E(I),N(I)),_!==void 0&&I>=_?M.next(I-_):(!w&&E(I),p)}}}const Vf=Jt(.42,0,1,1),Lf=Jt(0,0,.58,1),Tl=Jt(.42,0,.58,1),Ff=t=>Array.isArray(t)&&typeof t[0]!="number",Uf={linear:ae,easeIn:Vf,easeInOut:Tl,easeOut:Lf,circIn:io,circInOut:ja,circOut:Qa,backIn:no,backInOut:Za,backOut:Ya,anticipate:Xa},Ho=t=>{if(Xi(t)){ga(t.length===4);const[e,n,i,o]=t;return Jt(e,n,i,o)}else if(typeof t=="string")return Uf[t];return t};function bf(t,e,n){const i=[],o=n||gl,a=t.length-1;for(let l=0;l<a;l++){let u=o(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||ae:e;u=Ht(f,u)}i.push(u)}return i}function Bf(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(ga(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=bf(e,i,o),f=u.length,c=d=>{if(l&&d<t[0])return e[0];let h=0;if(f>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const p=lt(t[h],t[h+1],d);return u[h](p)};return n?d=>c(Ae(t[0],t[a-1],d)):c}function Gf(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=lt(0,e,i);t.push(z(n,1,o))}}function qf(t){const e=[0];return Gf(e,t.length-1),e}function $f(t,e){return t.map(n=>n*e)}function Jf(t,e){return t.map(()=>e||Tl).splice(0,t.length-1)}function dn({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=Ff(i)?i.map(Ho):Ho(i),a={done:!1,value:e[0]},l=$f(n&&n.length===e.length?n:qf(e),t),u=Bf(l,e,{ease:Array.isArray(o)?o:Jf(e,o)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const Hf=t=>{const e=({timestamp:n})=>t(n);return{start:()=>K.update(e,!0),stop:()=>Ve(e),now:()=>ne.isProcessing?ne.timestamp:Te.now()}},Of={decay:Jo,inertia:Jo,tween:dn,keyframes:dn,spring:vl},Wf=t=>t/100;class uo extends pl{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:o,keyframes:a}=this.options,l=(o==null?void 0:o.KeyframeResolver)||ao,u=(f,c)=>this.onKeyframesResolved(f,c);this.resolver=new l(a,u,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=this.options,u=Zi(n)?n:Of[n]||dn;let f,c;u!==dn&&typeof e[0]!="number"&&(f=Ht(Wf,gl(e[0],e[1])),e=[0,100]);const d=u({...this.options,keyframes:e});a==="mirror"&&(c=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=Fa(d));const{calculatedDuration:h}=d,p=h+o,m=p*(i+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:f,calculatedDuration:h,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:f,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=i;if(this.startTime===null)return a.next(0);const{delay:p,repeat:m,repeatType:g,repeatDelay:y,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-p*(this.speed>=0?1:-1),C=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,E=a;if(m){const I=Math.min(this.currentTime,d)/h;let w=Math.floor(I),B=I%1;!B&&I>=1&&(B=1),B===1&&w--,w=Math.min(w,m+1),!!(w%2)&&(g==="reverse"?(B=1-B,y&&(B-=y/h)):g==="mirror"&&(E=l)),S=Ae(0,1,B)*h}const _=C?{done:!1,value:f[0]}:E.next(S);u&&(_.value=u(_.value));let{done:M}=_;!C&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return N&&o!==void 0&&(_.value=In(f,this.options,o)),T&&T(_.value),N&&this.finish(),_}get duration(){const{resolved:e}=this;return e?xe(e.calculatedDuration):0}get time(){return xe(this.currentTime)}set time(e){e=Ee(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Hf,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Kf=new Set(["opacity","clipPath","filter","transform"]);function zf(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:u="easeInOut",times:f}={}){const c={[e]:n};f&&(c.offset=f);const d=Ba(u,o);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const Yf=Li(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hn=10,Zf=2e4;function Xf(t){return Zi(t.type)||t.type==="spring"||!ba(t.ease)}function Qf(t,e){const n=new uo({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let a=0;for(;!i.done&&a<Zf;)i=n.sample(a),o.push(i.value),a+=hn;return{times:void 0,keyframes:o,duration:a-hn,ease:"linear"}}const Cl={anticipate:Xa,backInOut:Za,circInOut:ja};function jf(t){return t in Cl}class Oo extends pl{constructor(e){super(e);const{name:n,motionValue:i,element:o,keyframes:a}=this.options;this.resolver=new hl(a,(l,u)=>this.onKeyframesResolved(l,u),n,i,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:o,ease:a,type:l,motionValue:u,name:f,startTime:c}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof a=="string"&&cn()&&jf(a)&&(a=Cl[a]),Xf(this.options)){const{onComplete:h,onUpdate:p,motionValue:m,element:g,...y}=this.options,T=Qf(e,y);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,o=T.times,a=T.ease,l="keyframes"}const d=zf(u.owner.current,f,e,{...this.options,duration:i,times:o,ease:a});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Ro(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;u.set(In(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:o,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xe(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xe(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Ee(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ae;const{animation:i}=n;Ro(i,e)}return ae}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:o,type:a,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...m}=this.options,g=new uo({...m,keyframes:i,duration:o,type:a,ease:l,times:u,isGenerator:!0}),y=Ee(this.time);c.setWithVelocity(g.sample(y-hn).value,g.sample(y).value,hn)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:o,repeatType:a,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:c}=n.owner.getProps();return Yf()&&i&&Kf.has(i)&&!f&&!c&&!o&&a!=="mirror"&&l!==0&&u!=="inertia"}}const ed={type:"spring",stiffness:500,damping:25,restSpeed:10},td=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nd={type:"keyframes",duration:.8},id={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},od=(t,{keyframes:e})=>e.length>2?nd:Ze.has(t)?t.startsWith("scale")?td(e[1]):ed:id;function sd({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:c,...d}){return!!Object.keys(d).length}const co=(t,e,n,i={},o,a)=>l=>{const u=Yi(i,t)||{},f=u.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ee(f);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-c,onUpdate:p=>{e.set(p),u.onUpdate&&u.onUpdate(p)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:o};sd(u)||(d={...d,...od(t,d)}),d.duration&&(d.duration=Ee(d.duration)),d.repeatDelay&&(d.repeatDelay=Ee(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&e.get()!==void 0){const p=In(d.keyframes,u);if(p!==void 0)return K.update(()=>{d.onUpdate(p),d.onComplete()}),new Ec([])}return!a&&Oo.supports(d)?new Oo(d):new uo(d)};function rd({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function _l(t,e,{delay:n=0,transitionOverride:i,type:o}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;i&&(l=i);const c=[],d=o&&t.animationState&&t.animationState.getState()[o];for(const h in f){const p=t.getValue(h,(a=t.latestValues[h])!==null&&a!==void 0?a:null),m=f[h];if(m===void 0||d&&rd(d,h))continue;const g={delay:n,...Yi(l||{},h)};let y=!1;if(window.MotionHandoffAnimation){const v=Oa(t);if(v){const C=window.MotionHandoffAnimation(v,h,K);C!==null&&(g.startTime=C,y=!0)}}ei(t,h),p.start(co(h,p,m,t.shouldReduceMotion&&Ja.has(h)?{type:!1}:g,t,y));const T=p.animation;T&&c.push(T)}return u&&Promise.all(c).then(()=>{K.update(()=>{u&&Uc(t,u)})}),c}function ai(t,e,n={}){var i;const o=Pn(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const l=o?()=>Promise.all(_l(t,o,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=a;return ad(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[c,d]=f==="beforeChildren"?[l,u]:[u,l];return c().then(()=>d())}else return Promise.all([l(),u(n.delay)])}function ad(t,e,n=0,i=0,o=1,a){const l=[],u=(t.variantChildren.size-1)*i,f=o===1?(c=0)=>c*i:(c=0)=>u-c*i;return Array.from(t.variantChildren).sort(ld).forEach((c,d)=>{c.notify("AnimationStart",e),l.push(ai(c,e,{...a,delay:n+f(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(l)}function ld(t,e){return t.sortNodePosition(e)}function ud(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>ai(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=ai(t,e,n);else{const o=typeof e=="function"?Pn(t,e,n.custom):e;i=Promise.all(_l(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const cd=Ui.length;function Sl(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Sl(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cd;n++){const i=Ui[n],o=t.props[i];(Lt(o)||o===!1)&&(e[i]=o)}return e}const fd=[...Fi].reverse(),dd=Fi.length;function hd(t){return e=>Promise.all(e.map(({animation:n,options:i})=>ud(t,n,i)))}function pd(t){let e=hd(t),n=Wo(),i=!0;const o=f=>(c,d)=>{var h;const p=Pn(t,d,f==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:m,transitionEnd:g,...y}=p;c={...c,...y,...g}}return c};function a(f){e=f(t)}function l(f){const{props:c}=t,d=Sl(t.parent)||{},h=[],p=new Set;let m={},g=1/0;for(let T=0;T<dd;T++){const v=fd[T],C=n[v],S=c[v]!==void 0?c[v]:d[v],E=Lt(S),_=v===f?C.isActive:null;_===!1&&(g=T);let M=S===d[v]&&S!==c[v]&&E;if(M&&i&&t.manuallyAnimateOnMount&&(M=!1),C.protectedKeys={...m},!C.isActive&&_===null||!S&&!C.prevProp||An(S)||typeof S=="boolean")continue;const N=md(C.prevProp,S);let I=N||v===f&&C.isActive&&!M&&E||T>g&&E,w=!1;const B=Array.isArray(S)?S:[S];let $=B.reduce(o(v),{});_===!1&&($={});const{prevResolvedValues:te={}}=C,me={...te,...$},Re=j=>{I=!0,p.has(j)&&(w=!0,p.delete(j)),C.needsAnimating[j]=!0;const A=t.getValue(j);A&&(A.liveStyle=!1)};for(const j in me){const A=$[j],U=te[j];if(m.hasOwnProperty(j))continue;let G=!1;Xn(A)&&Xn(U)?G=!La(A,U):G=A!==U,G?A!=null?Re(j):p.add(j):A!==void 0&&p.has(j)?Re(j):C.protectedKeys[j]=!0}C.prevProp=S,C.prevResolvedValues=$,C.isActive&&(m={...m,...$}),i&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&N)||w)&&h.push(...B.map(j=>({animation:j,options:{type:v}})))}if(p.size){const T={};p.forEach(v=>{const C=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),T[v]=C??null}),h.push({animation:T})}let y=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),i=!1,y?e(h):Promise.resolve()}function u(f,c){var d;if(n[f].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(f,c)}),n[f].isActive=c;const h=l(f);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Wo(),i=!0}}}function md(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!La(e,t):!1}function Ge(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wo(){return{animate:Ge(!0),whileInView:Ge(),whileHover:Ge(),whileTap:Ge(),whileDrag:Ge(),whileFocus:Ge(),exit:Ge()}}class Ue{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gd extends Ue{constructor(e){super(e),e.animationState||(e.animationState=pd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();An(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yd=0;class vd extends Ue{constructor(){super(...arguments),this.id=yd++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Td={animation:{Feature:gd},exit:{Feature:vd}};function Bt(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ot(t){return{point:{x:t.pageX,y:t.pageY}}}const Cd=t=>e=>Qi(e)&&t(e,Ot(e));function Dt(t,e,n,i){return Bt(t,e,Cd(n),i)}const Ko=(t,e)=>Math.abs(t-e);function _d(t,e){const n=Ko(t.x,e.x),i=Ko(t.y,e.y);return Math.sqrt(n**2+i**2)}class El{constructor(e,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Jn(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=_d(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=h,{timestamp:y}=ne;this.history.push({...g,timestamp:y});const{onStart:T,onMove:v}=this.handlers;p||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$n(p,this.transformPagePoint),K.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Jn(h.type==="pointercancel"?this.lastMoveEventInfo:$n(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,T),g&&g(h,T)},!Qi(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const l=Ot(e),u=$n(l,this.transformPagePoint),{point:f}=u,{timestamp:c}=ne;this.history=[{...f,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Jn(u,this.history)),this.removeListeners=Ht(Dt(this.contextWindow,"pointermove",this.handlePointerMove),Dt(this.contextWindow,"pointerup",this.handlePointerUp),Dt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ve(this.updatePoint)}}function $n(t,e){return e?{point:e(t.point)}:t}function zo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jn({point:t},e){return{point:t,delta:zo(t,xl(e)),offset:zo(t,Sd(e)),velocity:Ed(e,.1)}}function Sd(t){return t[0]}function xl(t){return t[t.length-1]}function Ed(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=xl(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Ee(e)));)n--;if(!i)return{x:0,y:0};const a=xe(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const Al=1e-4,xd=1-Al,Ad=1+Al,Ml=.01,Md=0-Ml,Pd=0+Ml;function le(t){return t.max-t.min}function Id(t,e,n){return Math.abs(t-e)<=n}function Yo(t,e,n,i=.5){t.origin=i,t.originPoint=z(e.min,e.max,t.origin),t.scale=le(n)/le(e),t.translate=z(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xd&&t.scale<=Ad||isNaN(t.scale))&&(t.scale=1),(t.translate>=Md&&t.translate<=Pd||isNaN(t.translate))&&(t.translate=0)}function Nt(t,e,n,i){Yo(t.x,e.x,n.x,i?i.originX:void 0),Yo(t.y,e.y,n.y,i?i.originY:void 0)}function Zo(t,e,n){t.min=n.min+e.min,t.max=t.min+le(e)}function Rd(t,e,n){Zo(t.x,e.x,n.x),Zo(t.y,e.y,n.y)}function Xo(t,e,n){t.min=e.min-n.min,t.max=t.min+le(e)}function kt(t,e,n){Xo(t.x,e.x,n.x),Xo(t.y,e.y,n.y)}function wd(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?z(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?z(n,t,i.max):Math.min(t,n)),t}function Qo(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Dd(t,{top:e,left:n,bottom:i,right:o}){return{x:Qo(t.x,n,o),y:Qo(t.y,e,i)}}function jo(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Nd(t,e){return{x:jo(t.x,e.x),y:jo(t.y,e.y)}}function kd(t,e){let n=.5;const i=le(t),o=le(e);return o>i?n=lt(e.min,e.max-i,t.min):i>o&&(n=lt(t.min,t.max-o,e.min)),Ae(0,1,n)}function Vd(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const li=.35;function Ld(t=li){return t===!1?t=0:t===!0&&(t=li),{x:es(t,"left","right"),y:es(t,"top","bottom")}}function es(t,e,n){return{min:ts(t,e),max:ts(t,n)}}function ts(t,e){return typeof t=="number"?t:t[e]||0}const ns=()=>({translate:0,scale:1,origin:0,originPoint:0}),nt=()=>({x:ns(),y:ns()}),is=()=>({min:0,max:0}),X=()=>({x:is(),y:is()});function fe(t){return[t("x"),t("y")]}function Pl({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Fd({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ud(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Hn(t){return t===void 0||t===1}function ui({scale:t,scaleX:e,scaleY:n}){return!Hn(t)||!Hn(e)||!Hn(n)}function $e(t){return ui(t)||Il(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Il(t){return os(t.x)||os(t.y)}function os(t){return t&&t!=="0%"}function pn(t,e,n){const i=t-n,o=e*i;return n+o}function ss(t,e,n,i,o){return o!==void 0&&(t=pn(t,o,i)),pn(t,n,i)+e}function ci(t,e=0,n=1,i,o){t.min=ss(t.min,e,n,i,o),t.max=ss(t.max,e,n,i,o)}function Rl(t,{x:e,y:n}){ci(t.x,e.translate,e.scale,e.originPoint),ci(t.y,n.translate,n.scale,n.originPoint)}const rs=.999999999999,as=1.0000000000001;function bd(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++){a=n[u],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ot(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Rl(t,l)),i&&$e(a.latestValues)&&ot(t,a.latestValues))}e.x<as&&e.x>rs&&(e.x=1),e.y<as&&e.y>rs&&(e.y=1)}function it(t,e){t.min=t.min+e,t.max=t.max+e}function ls(t,e,n,i,o=.5){const a=z(t.min,t.max,o);ci(t,e,n,a,i)}function ot(t,e){ls(t.x,e.x,e.scaleX,e.scale,e.originX),ls(t.y,e.y,e.scaleY,e.scale,e.originY)}function wl(t,e){return Pl(Ud(t.getBoundingClientRect(),e))}function Bd(t,e,n){const i=wl(t,n),{scroll:o}=e;return o&&(it(i.x,o.offset.x),it(i.y,o.offset.y)),i}const Dl=({current:t})=>t?t.ownerDocument.defaultView:null,Gd=new WeakMap;class qd{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=X(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ot(d).point)},a=(d,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Nc(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fe(T=>{let v=this.getAxisMotionValue(T).get()||0;if(ve.test(v)){const{projection:C}=this.visualElement;if(C&&C.layout){const S=C.layout.layoutBox[T];S&&(v=le(S)*(parseFloat(v)/100))}}this.originPoint[T]=v}),g&&K.postRender(()=>g(d,h)),ei(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(d,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=h;if(m&&this.currentDirection===null){this.currentDirection=$d(T),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),y&&y(d,h)},u=(d,h)=>this.stop(d,h),f=()=>fe(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new El(e,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Dl(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&K.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!Qt(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=wd(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&et(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Dd(o.layoutBox,n):this.constraints=!1,this.elastic=Ld(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&fe(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Vd(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!et(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=Bd(i,o.root,this.visualElement.getTransformPagePoint());let l=Nd(o.layout.layoutBox,a);if(n){const u=n(Fd(l));this.hasMutatedConstraints=!!u,u&&(l=Pl(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},c=fe(d=>{if(!Qt(d,n,this.currentDirection))return;let h=f&&f[d]||{};l&&(h={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,g={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,g)});return Promise.all(c).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return ei(this.visualElement,e),i.start(co(e,i,0,n,this.visualElement,!1))}stopAnimation(){fe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fe(n=>{const{drag:i}=this.getProps();if(!Qt(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];a.set(e[n]-z(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!et(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};fe(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();o[l]=kd({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fe(l=>{if(!Qt(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:c}=this.constraints[l];u.set(z(f,c,o[l]))})}addListeners(){if(!this.visualElement.current)return;Gd.set(this.visualElement,this);const e=this.visualElement.current,n=Dt(e,"pointerdown",f=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();et(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),K.read(i);const l=Bt(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:c})=>{this.isDragging&&c&&(fe(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=f[d].translate,h.set(h.get()+f[d].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=li,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Qt(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $d(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Jd extends Ue{constructor(e){super(e),this.removeGroupControls=ae,this.removeListeners=ae,this.controls=new qd(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ae}unmount(){this.removeGroupControls(),this.removeListeners()}}const us=t=>(e,n)=>{t&&K.postRender(()=>t(e,n))};class Hd extends Ue{constructor(){super(...arguments),this.removePointerDownListener=ae}onPointerDown(e){this.session=new El(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dl(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:us(e),onStart:us(n),onMove:i,onEnd:(a,l)=>{delete this.session,o&&K.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=Dt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const on={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cs(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Et={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(L.test(t))t=parseFloat(t);else return t;const n=cs(t,e.target.x),i=cs(t,e.target.y);return`${n}% ${i}%`}},Od={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Le.parse(t);if(o.length>5)return i;const a=Le.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=f;const c=z(u,f,.5);return typeof o[2+l]=="number"&&(o[2+l]/=c),typeof o[3+l]=="number"&&(o[3+l]/=c),a(o)}};class Wd extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;fc(Kd),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),on.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,o||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||K.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bi.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Nl(t){const[e,n]=pa(),i=D.useContext(Di);return Se.jsx(Wd,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(Sa),isPresent:e,safeToRemove:n})}const Kd={borderRadius:{...Et,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomLeftRadius:Et,borderBottomRightRadius:Et,boxShadow:Od};function zd(t,e,n){const i=oe(t)?t:Ut(t);return i.start(co("",i,e,n)),i.animation}function Yd(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Zd=(t,e)=>t.depth-e.depth;class Xd{constructor(){this.children=[],this.isDirty=!1}add(e){ji(this.children,e),this.isDirty=!0}remove(e){eo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zd),this.isDirty=!1,this.children.forEach(e)}}function Qd(t,e){const n=Te.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Ve(i),t(a-e))};return K.read(i,!0),()=>Ve(i)}const kl=["TopLeft","TopRight","BottomLeft","BottomRight"],jd=kl.length,fs=t=>typeof t=="string"?parseFloat(t):t,ds=t=>typeof t=="number"||L.test(t);function eh(t,e,n,i,o,a){o?(t.opacity=z(0,n.opacity!==void 0?n.opacity:1,th(i)),t.opacityExit=z(e.opacity!==void 0?e.opacity:1,0,nh(i))):a&&(t.opacity=z(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<jd;l++){const u=`border${kl[l]}Radius`;let f=hs(e,u),c=hs(n,u);if(f===void 0&&c===void 0)continue;f||(f=0),c||(c=0),f===0||c===0||ds(f)===ds(c)?(t[u]=Math.max(z(fs(f),fs(c),i),0),(ve.test(c)||ve.test(f))&&(t[u]+="%")):t[u]=c}(e.rotate||n.rotate)&&(t.rotate=z(e.rotate||0,n.rotate||0,i))}function hs(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const th=Vl(0,.5,Qa),nh=Vl(.5,.95,ae);function Vl(t,e,n){return i=>i<t?0:i>e?1:n(lt(t,e,i))}function ps(t,e){t.min=e.min,t.max=e.max}function ce(t,e){ps(t.x,e.x),ps(t.y,e.y)}function ms(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gs(t,e,n,i,o){return t-=e,t=pn(t,1/n,i),o!==void 0&&(t=pn(t,1/o,i)),t}function ih(t,e=0,n=1,i=.5,o,a=t,l=t){if(ve.test(e)&&(e=parseFloat(e),e=z(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=z(a.min,a.max,i);t===a&&(u-=e),t.min=gs(t.min,e,n,u,o),t.max=gs(t.max,e,n,u,o)}function ys(t,e,[n,i,o],a,l){ih(t,e[n],e[i],e[o],e.scale,a,l)}const oh=["x","scaleX","originX"],sh=["y","scaleY","originY"];function vs(t,e,n,i){ys(t.x,e,oh,n?n.x:void 0,i?i.x:void 0),ys(t.y,e,sh,n?n.y:void 0,i?i.y:void 0)}function Ts(t){return t.translate===0&&t.scale===1}function Ll(t){return Ts(t.x)&&Ts(t.y)}function Cs(t,e){return t.min===e.min&&t.max===e.max}function rh(t,e){return Cs(t.x,e.x)&&Cs(t.y,e.y)}function _s(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Fl(t,e){return _s(t.x,e.x)&&_s(t.y,e.y)}function Ss(t){return le(t.x)/le(t.y)}function Es(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ah{constructor(){this.members=[]}add(e){ji(this.members,e),e.scheduleRender()}remove(e){if(eo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lh(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((o||a||l)&&(i=`translate3d(${o}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:m,skewY:g}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),h&&(i+=`rotateX(${h}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),g&&(i+=`skewY(${g}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(i+=`scale(${u}, ${f})`),i||"none"}const Je={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pt=typeof window<"u"&&window.MotionDebug!==void 0,On=["","X","Y","Z"],uh={visibility:"hidden"},xs=1e3;let ch=0;function Wn(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Ul(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Oa(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",K,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Ul(i)}function bl({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(l={},u=e==null?void 0:e()){this.id=ch++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pt&&(Je.totalNodes=Je.resolvedTargetDeltas=Je.recalculatedProjection=0),this.nodes.forEach(hh),this.nodes.forEach(vh),this.nodes.forEach(Th),this.nodes.forEach(ph),Pt&&window.MotionDebug.record(Je)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xd)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new to),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yd(l),this.instance=l;const{layoutId:f,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(c||f)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Qd(p,250),on.hasAnimatedSinceResize&&(on.hasAnimatedSinceResize=!1,this.nodes.forEach(Ms))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||xh,{onLayoutAnimationStart:T,onLayoutAnimationComplete:v}=d.getProps(),C=!this.targetLayout||!Fl(this.targetLayout,g)||m,S=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const E={...Yi(y,"layout"),onPlay:T,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else p||Ms(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ve(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ch),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ul(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(As);return}this.isUpdating||this.nodes.forEach(gh),this.isUpdating=!1,this.nodes.forEach(yh),this.nodes.forEach(fh),this.nodes.forEach(dh),this.clearAllSnapshots();const u=Te.now();ne.delta=Ae(0,1e3/60,u-ne.timestamp),ne.timestamp=u,ne.isProcessing=!0,Fn.update.process(ne),Fn.preRender.process(ne),Fn.render.process(ne),ne.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bi.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mh),this.sharedNodes.forEach(_h)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,K.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){K.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=X(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Ll(this.projectionDelta),f=this.getTransformTemplate(),c=f?f(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;l&&(u||$e(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),Ah(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return X();const f=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(Mh))){const{scroll:d}=this.root;d&&(it(f.x,d.offset.x),it(f.y,d.offset.y))}return f}removeElementScroll(l){var u;const f=X();if(ce(f,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return f;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&ce(f,l),it(f.x,h.offset.x),it(f.y,h.offset.y))}return f}applyTransform(l,u=!1){const f=X();ce(f,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];!u&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ot(f,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$e(d.latestValues)&&ot(f,d.latestValues)}return $e(this.latestValues)&&ot(f,this.latestValues),f}removeTransform(l){const u=X();ce(u,l);for(let f=0;f<this.path.length;f++){const c=this.path[f];if(!c.instance||!$e(c.latestValues))continue;ui(c.latestValues)&&c.updateSnapshot();const d=X(),h=c.measurePageBox();ce(d,h),vs(u,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return $e(this.latestValues)&&vs(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ne.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==f;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ne.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=X(),this.relativeTargetOrigin=X(),kt(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ce(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=X(),this.targetWithTransforms=X()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Rd(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ce(this.target,this.layout.layoutBox),Rl(this.target,this.targetDelta)):ce(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=X(),this.relativeTargetOrigin=X(),kt(this.relativeTargetOrigin,this.target,m.target),ce(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pt&&Je.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ui(this.parent.latestValues)||Il(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let c=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(c=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ne.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ce(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;bd(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=X());const{target:g}=u;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ms(this.prevProjectionDelta.x,this.projectionDelta.x),ms(this.prevProjectionDelta.y,this.projectionDelta.y)),Nt(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!Es(this.projectionDelta.x,this.prevProjectionDelta.x)||!Es(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Pt&&Je.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nt(),this.projectionDelta=nt(),this.projectionDeltaWithTransform=nt()}setAnimationOrigin(l,u=!1){const f=this.snapshot,c=f?f.latestValues:{},d={...this.latestValues},h=nt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const p=X(),m=f?f.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,T=this.getStack(),v=!T||T.members.length<=1,C=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Eh));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const _=E/1e3;Ps(h.x,l.x,_),Ps(h.y,l.y,_),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kt(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sh(this.relativeTarget,this.relativeTargetOrigin,p,_),S&&rh(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=X()),ce(S,this.relativeTarget)),y&&(this.animationValues=d,eh(d,c,this.latestValues,_,C,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ve(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=K.update(()=>{on.hasAnimatedSinceResize=!0,this.currentAnimation=zd(0,xs,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xs),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:c,latestValues:d}=l;if(!(!u||!f||!c)){if(this!==l&&this.layout&&c&&Bl(this.options.animationType,this.layout.layoutBox,c.layoutBox)){f=this.target||X();const h=le(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+h;const p=le(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+p}ce(u,f),ot(u,d),Nt(this.projectionDeltaWithTransform,this.layoutCorrected,u,d)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ah),this.sharedNodes.get(l).add(u);const c=u.options.initialPromotionConfig;u.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const c=this.getStack();c&&c.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const c={};f.z&&Wn("z",l,c,this.animationValues);for(let d=0;d<On.length;d++)Wn(`rotate${On[d]}`,l,c,this.animationValues),Wn(`skew${On[d]}`,l,c,this.animationValues);l.render();for(const d in c)l.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uh;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=tn(l==null?void 0:l.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=tn(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!$e(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=lh(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(f=(u=p.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in un){if(p[y]===void 0)continue;const{correct:T,applyTo:v}=un[y],C=c.transform==="none"?p[y]:T(p[y],h);if(v){const S=v.length;for(let E=0;E<S;E++)c[v[E]]=C}else c[y]=C}return this.options.layoutId&&(c.pointerEvents=h===this?tn(l==null?void 0:l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(As),this.root.sharedNodes.clear()}}}function fh(t){t.updateLayout()}function dh(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?fe(h=>{const p=l?n.measuredBox[h]:n.layoutBox[h],m=le(p);p.min=i[h].min,p.max=p.min+m}):Bl(a,n.layoutBox,i)&&fe(h=>{const p=l?n.measuredBox[h]:n.layoutBox[h],m=le(i[h]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const u=nt();Nt(u,i,n.layoutBox);const f=nt();l?Nt(f,t.applyTransform(o,!0),n.measuredBox):Nt(f,i,n.layoutBox);const c=!Ll(u);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const g=X();kt(g,n.layoutBox,p.layoutBox);const y=X();kt(y,i,m.layoutBox),Fl(g,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:u,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function hh(t){Pt&&Je.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ph(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mh(t){t.clearSnapshot()}function As(t){t.clearMeasurements()}function gh(t){t.isLayoutDirty=!1}function yh(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ms(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vh(t){t.resolveTargetDelta()}function Th(t){t.calcProjection()}function Ch(t){t.resetSkewAndRotation()}function _h(t){t.removeLeadSnapshot()}function Ps(t,e,n){t.translate=z(e.translate,0,n),t.scale=z(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Is(t,e,n,i){t.min=z(e.min,n.min,i),t.max=z(e.max,n.max,i)}function Sh(t,e,n,i){Is(t.x,e.x,n.x,i),Is(t.y,e.y,n.y,i)}function Eh(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xh={duration:.45,ease:[.4,0,.1,1]},Rs=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ws=Rs("applewebkit/")&&!Rs("chrome/")?Math.round:ae;function Ds(t){t.min=ws(t.min),t.max=ws(t.max)}function Ah(t){Ds(t.x),Ds(t.y)}function Bl(t,e,n){return t==="position"||t==="preserve-aspect"&&!Id(Ss(e),Ss(n),.2)}function Mh(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Ph=bl({attachResizeListener:(t,e)=>Bt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kn={current:void 0},Gl=bl({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kn.current){const t=new Ph({});t.mount(window),t.setOptions({layoutScroll:!0}),Kn.current=t}return Kn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ih={pan:{Feature:Hd},drag:{Feature:Jd,ProjectionNode:Gl,MeasureLayout:Nl}};function Ns(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&K.postRender(()=>a(e,Ot(e)))}class Rh extends Ue{mount(){const{current:e}=this.node;e&&(this.unmount=Pc(e,n=>(Ns(this.node,n,"Start"),i=>Ns(this.node,i,"End"))))}unmount(){}}class wh extends Ue{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ht(Bt(this.node.current,"focus",()=>this.onFocus()),Bt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ks(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&K.postRender(()=>a(e,Ot(e)))}class Dh extends Ue{mount(){const{current:e}=this.node;e&&(this.unmount=Dc(e,n=>(ks(this.node,n,"Start"),(i,{success:o})=>ks(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fi=new WeakMap,zn=new WeakMap,Nh=t=>{const e=fi.get(t.target);e&&e(t)},kh=t=>{t.forEach(Nh)};function Vh({root:t,...e}){const n=t||document;zn.has(n)||zn.set(n,{});const i=zn.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(kh,{root:t,...e})),i[o]}function Lh(t,e,n){const i=Vh(e);return fi.set(t,n),i.observe(t),()=>{fi.delete(t),i.unobserve(t)}}const Fh={some:0,all:1};class Uh extends Ue{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:Fh[o]},u=f=>{const{isIntersecting:c}=f;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(f)};return Lh(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(bh(e,n))&&this.startObserver()}unmount(){}}function bh({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Bh={inView:{Feature:Uh},tap:{Feature:Dh},focus:{Feature:wh},hover:{Feature:Rh}},Gh={layout:{ProjectionNode:Gl,MeasureLayout:Nl}},di={current:null},ql={current:!1};function qh(){if(ql.current=!0,!!Vi)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>di.current=t.matches;t.addListener(e),e()}else di.current=!1}const $h=[...dl,ie,Le],Jh=t=>$h.find(fl(t)),Vs=new WeakMap;function Hh(t,e,n){for(const i in e){const o=e[i],a=n[i];if(oe(o))t.addValue(i,o);else if(oe(a))t.addValue(i,Ut(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(i);t.addValue(i,Ut(l!==void 0?l:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Ls=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Oh{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ao,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Te.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,K.render(this.render,!1,!0))};const{latestValues:f,renderState:c,onUpdate:d}=l;this.onUpdate=d,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Mn(n),this.isVariantNode=Ca(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const g=p[m];f[m]!==void 0&&oe(g)&&g.set(f[m],!1)}}mount(e){this.current=e,Vs.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ql.current||qh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:di.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vs.delete(this.current),this.projection&&this.projection.unmount(),Ve(this.notifyUpdate),Ve(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ze.has(e),o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&K.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ut){const n=ut[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):X()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Ls.length;i++){const o=Ls[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=e[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=Hh(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Ut(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(ul(o)||el(o))?o=parseFloat(o):!Jh(o)&&Le.test(n)&&(o=rl(e,n)),this.setBaseTarget(e,oe(o)?o.get():o)),oe(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const l=qi(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(o=l[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!oe(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new to),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $l extends Oh{constructor(){super(...arguments),this.KeyframeResolver=hl}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oe(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wh(t){return window.getComputedStyle(t)}class Kh extends $l{constructor(){super(...arguments),this.type="html",this.renderInstance=Ra}readValueFromInstance(e,n){if(Ze.has(n)){const i=ro(n);return i&&i.default||0}else{const i=Wh(e),o=(Ma(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wl(e,n)}build(e,n,i){Hi(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return zi(e,n,i)}}class zh extends $l{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=X}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ze.has(n)){const i=ro(n);return i&&i.default||0}return n=wa.has(n)?n:bi(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return ka(e,n,i)}build(e,n,i){Oi(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,o){Da(e,n,i,o)}mount(e){this.isSVGTag=Ki(e.tagName),super.mount(e)}}const Yh=(t,e)=>Gi(t)?new zh(e):new Kh(e,{allowProjection:t!==D.Fragment}),Zh=Cc({...Td,...Bh,...Ih,...Gh},Yh),JE=Lu(Zh);var H;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),l={};for(const u of a)l[u]=o[u];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},t.find=(o,a)=>{for(const l of o)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=i,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(H||(H={}));var Fs;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fs||(Fs={}));const R=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ne=t=>{switch(typeof t){case"undefined":return R.undefined;case"string":return R.string;case"number":return Number.isNaN(t)?R.nan:R.number;case"boolean":return R.boolean;case"function":return R.function;case"bigint":return R.bigint;case"symbol":return R.symbol;case"object":return Array.isArray(t)?R.array:t===null?R.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?R.promise:typeof Map<"u"&&t instanceof Map?R.map:typeof Set<"u"&&t instanceof Set?R.set:typeof Date<"u"&&t instanceof Date?R.date:R.object;default:return R.unknown}},x=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Me extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},i={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)i._errors.push(n(l));else{let u=i,f=0;for(;f<l.path.length;){const c=l.path[f];f===l.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(l))):u[c]=u[c]||{_errors:[]},u=u[c],f++}}};return o(this),i}static assert(e){if(!(e instanceof Me))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const o of this.issues)if(o.path.length>0){const a=o.path[0];n[a]=n[a]||[],n[a].push(e(o))}else i.push(e(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}Me.create=t=>new Me(t);const hi=(t,e)=>{let n;switch(t.code){case x.invalid_type:t.received===R.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case x.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,H.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:n=`Unrecognized key(s) in object: ${H.joinValues(t.keys,", ")}`;break;case x.invalid_union:n="Invalid input";break;case x.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${H.joinValues(t.options)}`;break;case x.invalid_enum_value:n=`Invalid enum value. Expected ${H.joinValues(t.options)}, received '${t.received}'`;break;case x.invalid_arguments:n="Invalid function arguments";break;case x.invalid_return_type:n="Invalid function return type";break;case x.invalid_date:n="Invalid date";break;case x.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:H.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case x.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case x.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case x.custom:n="Invalid input";break;case x.invalid_intersection_types:n="Intersection results could not be merged";break;case x.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case x.not_finite:n="Number must be finite";break;default:n=e.defaultError,H.assertNever(t)}return{message:n}};let Xh=hi;function Qh(){return Xh}const jh=t=>{const{data:e,path:n,errorMaps:i,issueData:o}=t,a=[...n,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let u="";const f=i.filter(c=>!!c).slice().reverse();for(const c of f)u=c(l,{data:e,defaultError:u}).message;return{...o,path:a,message:u}};function P(t,e){const n=Qh(),i=jh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===hi?void 0:hi].filter(o=>!!o)});t.common.issues.push(i)}class re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const o of n){if(o.status==="aborted")return b;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const o of n){const a=await o.key,l=await o.value;i.push({key:a,value:l})}return re.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const o of n){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return b;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(i[a.value]=l.value)}return{status:e.value,value:i}}}const b=Object.freeze({status:"aborted"}),It=t=>({status:"dirty",value:t}),he=t=>({status:"valid",value:t}),Us=t=>t.status==="aborted",bs=t=>t.status==="dirty",ft=t=>t.status==="valid",mn=t=>typeof Promise<"u"&&t instanceof Promise;var k;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));class _e{constructor(e,n,i,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Bs=(t,e)=>{if(ft(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Me(t.common.issues);return this._error=n,this._error}}};function q(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:o}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,u)=>{const{message:f}=t;return l.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??i??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:f??n??u.defaultError}},description:o}}class J{get description(){return this._def.description}_getType(e){return Ne(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new re,ctx:{common:e.parent.common,data:e.data,parsedType:Ne(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(mn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)},o=this._parseSync({data:e,path:i.path,parent:i});return Bs(i,o)}"~validate"(e){var i,o;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return ft(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(o=(i=a==null?void 0:a.message)==null?void 0:i.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>ft(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ne(e)},o=this._parse({data:e,path:i.path,parent:i}),a=await(mn(o)?o:Promise.resolve(o));return Bs(i,a)}refine(e,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const l=e(o),u=()=>a.addIssue({code:x.custom,...i(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,o)=>e(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(e){return new pt({schema:this,typeName:F.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ke.create(this,this._def)}nullable(){return mt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ce.create(this)}promise(){return Cn.create(this,this._def)}or(e){return yn.create([this,e],this._def)}and(e){return vn.create(this,e,this._def)}transform(e){return new pt({...q(this._def),schema:this,typeName:F.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new yi({...q(this._def),innerType:this,defaultValue:n,typeName:F.ZodDefault})}brand(){return new Sp({typeName:F.ZodBranded,type:this,...q(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new vi({...q(this._def),innerType:this,catchValue:n,typeName:F.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return fo.create(this,e)}readonly(){return Ti.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ep=/^c[^\s-]{8,}$/i,tp=/^[0-9a-z]+$/,np=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ip=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,op=/^[a-z0-9_-]{21}$/i,sp=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,rp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ap=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yn;const up=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dp=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,pp=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Jl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mp=new RegExp(`^${Jl}$`);function Hl(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function gp(t){return new RegExp(`^${Hl(t)}$`)}function yp(t){let e=`${Jl}T${Hl(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function vp(t,e){return!!((e==="v4"||!e)&&up.test(t)||(e==="v6"||!e)&&fp.test(t))}function Tp(t,e){if(!sp.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function Cp(t,e){return!!((e==="v4"||!e)&&cp.test(t)||(e==="v6"||!e)&&dp.test(t))}class ge extends J{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==R.string){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_type,expected:R.string,received:a.parsedType}),b}const i=new re;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(o=this._getOrReturnCtx(e,o),l?P(o,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&P(o,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")ap.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"email",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Yn||(Yn=new RegExp(lp,"u")),Yn.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"emoji",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")ip.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"uuid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")op.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"nanoid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")ep.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cuid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")tp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cuid2",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")np.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"ulid",code:x.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),P(o,{validation:"url",code:x.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"regex",code:x.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?yp(a).test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?mp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?gp(a).test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{code:x.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?rp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"duration",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?vp(e.data,a.version)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"ip",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?Tp(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"jwt",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?Cp(e.data,a.version)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"cidr",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?hp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"base64",code:x.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?pp.test(e.data)||(o=this._getOrReturnCtx(e,o),P(o,{validation:"base64url",code:x.invalid_string,message:a.message}),i.dirty()):H.assertNever(a);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(o=>e.test(o),{validation:n,code:x.invalid_string,...k.errToObj(i)})}_addCheck(e){return new ge({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...k.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...k.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...k.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...k.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...k.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...k.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...k.errToObj(n)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ge.create=t=>new ge({checks:[],typeName:F.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...q(t)});function _p(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=n>i?n:i,a=Number.parseInt(t.toFixed(o).replace(".","")),l=Number.parseInt(e.toFixed(o).replace(".",""));return a%l/10**o}class We extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==R.number){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_type,expected:R.number,received:a.parsedType}),b}let i;const o=new re;for(const a of this._def.checks)a.kind==="int"?H.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:x.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?_p(e.data,a.value)!==0&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:x.not_finite,message:a.message}),o.dirty()):H.assertNever(a);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,k.toString(n))}gt(e,n){return this.setLimit("min",e,!1,k.toString(n))}lte(e,n){return this.setLimit("max",e,!0,k.toString(n))}lt(e,n){return this.setLimit("max",e,!1,k.toString(n))}setLimit(e,n,i,o){return new We({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:k.toString(o)}]})}_addCheck(e){return new We({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&H.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}We.create=t=>new We({checks:[],typeName:F.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...q(t)});class Ke extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==R.bigint)return this._getInvalidInput(e);let i;const o=new re;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),P(i,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):H.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:R.bigint,received:n.parsedType}),b}gte(e,n){return this.setLimit("min",e,!0,k.toString(n))}gt(e,n){return this.setLimit("min",e,!1,k.toString(n))}lte(e,n){return this.setLimit("max",e,!0,k.toString(n))}lt(e,n){return this.setLimit("max",e,!1,k.toString(n))}setLimit(e,n,i,o){return new Ke({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:k.toString(o)}]})}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ke.create=t=>new Ke({checks:[],typeName:F.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...q(t)});class gn extends J{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==R.boolean){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:R.boolean,received:i.parsedType}),b}return he(e.data)}}gn.create=t=>new gn({typeName:F.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...q(t)});class dt extends J{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==R.date){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_type,expected:R.date,received:a.parsedType}),b}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return P(a,{code:x.invalid_date}),b}const i=new re;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),P(o,{code:x.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):H.assertNever(a);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new dt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}dt.create=t=>new dt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:F.ZodDate,...q(t)});class Gs extends J{_parse(e){if(this._getType(e)!==R.symbol){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:R.symbol,received:i.parsedType}),b}return he(e.data)}}Gs.create=t=>new Gs({typeName:F.ZodSymbol,...q(t)});class qs extends J{_parse(e){if(this._getType(e)!==R.undefined){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:R.undefined,received:i.parsedType}),b}return he(e.data)}}qs.create=t=>new qs({typeName:F.ZodUndefined,...q(t)});class $s extends J{_parse(e){if(this._getType(e)!==R.null){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:R.null,received:i.parsedType}),b}return he(e.data)}}$s.create=t=>new $s({typeName:F.ZodNull,...q(t)});class Js extends J{constructor(){super(...arguments),this._any=!0}_parse(e){return he(e.data)}}Js.create=t=>new Js({typeName:F.ZodAny,...q(t)});class pi extends J{constructor(){super(...arguments),this._unknown=!0}_parse(e){return he(e.data)}}pi.create=t=>new pi({typeName:F.ZodUnknown,...q(t)});class Fe extends J{_parse(e){const n=this._getOrReturnCtx(e);return P(n,{code:x.invalid_type,expected:R.never,received:n.parsedType}),b}}Fe.create=t=>new Fe({typeName:F.ZodNever,...q(t)});class Hs extends J{_parse(e){if(this._getType(e)!==R.undefined){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:R.void,received:i.parsedType}),b}return he(e.data)}}Hs.create=t=>new Hs({typeName:F.ZodVoid,...q(t)});class Ce extends J{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),o=this._def;if(n.parsedType!==R.array)return P(n,{code:x.invalid_type,expected:R.array,received:n.parsedType}),b;if(o.exactLength!==null){const l=n.data.length>o.exactLength.value,u=n.data.length<o.exactLength.value;(l||u)&&(P(n,{code:l?x.too_big:x.too_small,minimum:u?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(P(n,{code:x.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(P(n,{code:x.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>o.type._parseAsync(new _e(n,l,n.path,u)))).then(l=>re.mergeArray(i,l));const a=[...n.data].map((l,u)=>o.type._parseSync(new _e(n,l,n.path,u)));return re.mergeArray(i,a)}get element(){return this._def.type}min(e,n){return new Ce({...this._def,minLength:{value:e,message:k.toString(n)}})}max(e,n){return new Ce({...this._def,maxLength:{value:e,message:k.toString(n)}})}length(e,n){return new Ce({...this._def,exactLength:{value:e,message:k.toString(n)}})}nonempty(e){return this.min(1,e)}}Ce.create=(t,e)=>new Ce({type:t,minLength:null,maxLength:null,exactLength:null,typeName:F.ZodArray,...q(e)});function je(t){if(t instanceof Q){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=ke.create(je(i))}return new Q({...t._def,shape:()=>e})}else return t instanceof Ce?new Ce({...t._def,type:je(t.element)}):t instanceof ke?ke.create(je(t.unwrap())):t instanceof mt?mt.create(je(t.unwrap())):t instanceof ze?ze.create(t.items.map(e=>je(e))):t}class Q extends J{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=H.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==R.object){const c=this._getOrReturnCtx(e);return P(c,{code:x.invalid_type,expected:R.object,received:c.parsedType}),b}const{status:i,ctx:o}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Fe&&this._def.unknownKeys==="strip"))for(const c in o.data)l.includes(c)||u.push(c);const f=[];for(const c of l){const d=a[c],h=o.data[c];f.push({key:{status:"valid",value:c},value:d._parse(new _e(o,h,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof Fe){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of u)f.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(c==="strict")u.length>0&&(P(o,{code:x.unrecognized_keys,keys:u}),i.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of u){const h=o.data[d];f.push({key:{status:"valid",value:d},value:c._parse(new _e(o,h,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of f){const h=await d.key,p=await d.value;c.push({key:h,value:p,alwaysSet:d.alwaysSet})}return c}).then(c=>re.mergeObjectSync(i,c)):re.mergeObjectSync(i,f)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new Q({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var a,l;const o=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:k.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Q({...this._def,unknownKeys:"strip"})}passthrough(){return new Q({...this._def,unknownKeys:"passthrough"})}extend(e){return new Q({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Q({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:F.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Q({...this._def,catchall:e})}pick(e){const n={};for(const i of H.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Q({...this._def,shape:()=>n})}omit(e){const n={};for(const i of H.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Q({...this._def,shape:()=>n})}deepPartial(){return je(this)}partial(e){const n={};for(const i of H.objectKeys(this.shape)){const o=this.shape[i];e&&!e[i]?n[i]=o:n[i]=o.optional()}return new Q({...this._def,shape:()=>n})}required(e){const n={};for(const i of H.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof ke;)a=a._def.innerType;n[i]=a}return new Q({...this._def,shape:()=>n})}keyof(){return Ol(H.objectKeys(this.shape))}}Q.create=(t,e)=>new Q({shape:()=>t,unknownKeys:"strip",catchall:Fe.create(),typeName:F.ZodObject,...q(e)});Q.strictCreate=(t,e)=>new Q({shape:()=>t,unknownKeys:"strict",catchall:Fe.create(),typeName:F.ZodObject,...q(e)});Q.lazycreate=(t,e)=>new Q({shape:t,unknownKeys:"strip",catchall:Fe.create(),typeName:F.ZodObject,...q(e)});class yn extends J{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function o(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new Me(u.ctx.common.issues));return P(n,{code:x.invalid_union,unionErrors:l}),b}if(n.common.async)return Promise.all(i.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const f of i){const c={...n,common:{...n.common,issues:[]},parent:null},d=f._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(f=>new Me(f));return P(n,{code:x.invalid_union,unionErrors:u}),b}}get options(){return this._def.options}}yn.create=(t,e)=>new yn({options:t,typeName:F.ZodUnion,...q(e)});function mi(t,e){const n=Ne(t),i=Ne(e);if(t===e)return{valid:!0,data:t};if(n===R.object&&i===R.object){const o=H.objectKeys(e),a=H.objectKeys(t).filter(u=>o.indexOf(u)!==-1),l={...t,...e};for(const u of a){const f=mi(t[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(n===R.array&&i===R.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],f=mi(l,u);if(!f.valid)return{valid:!1};o.push(f.data)}return{valid:!0,data:o}}else return n===R.date&&i===R.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vn extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=(a,l)=>{if(Us(a)||Us(l))return b;const u=mi(a.value,l.value);return u.valid?((bs(a)||bs(l))&&n.dirty(),{status:n.value,value:u.data}):(P(i,{code:x.invalid_intersection_types}),b)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}vn.create=(t,e,n)=>new vn({left:t,right:e,typeName:F.ZodIntersection,...q(n)});class ze extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==R.array)return P(i,{code:x.invalid_type,expected:R.array,received:i.parsedType}),b;if(i.data.length<this._def.items.length)return P(i,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b;!this._def.rest&&i.data.length>this._def.items.length&&(P(i,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new _e(i,l,i.path,u)):null}).filter(l=>!!l);return i.common.async?Promise.all(a).then(l=>re.mergeArray(n,l)):re.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new ze({...this._def,rest:e})}}ze.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ze({items:t,typeName:F.ZodTuple,rest:null,...q(e)})};class Tn extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==R.object)return P(i,{code:x.invalid_type,expected:R.object,received:i.parsedType}),b;const o=[],a=this._def.keyType,l=this._def.valueType;for(const u in i.data)o.push({key:a._parse(new _e(i,u,i.path,u)),value:l._parse(new _e(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?re.mergeObjectAsync(n,o):re.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof J?new Tn({keyType:e,valueType:n,typeName:F.ZodRecord,...q(i)}):new Tn({keyType:ge.create(),valueType:e,typeName:F.ZodRecord,...q(n)})}}class Os extends J{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==R.map)return P(i,{code:x.invalid_type,expected:R.map,received:i.parsedType}),b;const o=this._def.keyType,a=this._def.valueType,l=[...i.data.entries()].map(([u,f],c)=>({key:o._parse(new _e(i,u,i.path,[c,"key"])),value:a._parse(new _e(i,f,i.path,[c,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const c=await f.key,d=await f.value;if(c.status==="aborted"||d.status==="aborted")return b;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(c.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of l){const c=f.key,d=f.value;if(c.status==="aborted"||d.status==="aborted")return b;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(c.value,d.value)}return{status:n.value,value:u}}}}Os.create=(t,e,n)=>new Os({valueType:e,keyType:t,typeName:F.ZodMap,...q(n)});class Gt extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==R.set)return P(i,{code:x.invalid_type,expected:R.set,received:i.parsedType}),b;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(P(i,{code:x.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(P(i,{code:x.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function l(f){const c=new Set;for(const d of f){if(d.status==="aborted")return b;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const u=[...i.data.values()].map((f,c)=>a._parse(new _e(i,f,i.path,c)));return i.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,n){return new Gt({...this._def,minSize:{value:e,message:k.toString(n)}})}max(e,n){return new Gt({...this._def,maxSize:{value:e,message:k.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Gt.create=(t,e)=>new Gt({valueType:t,minSize:null,maxSize:null,typeName:F.ZodSet,...q(e)});class gi extends J{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}gi.create=(t,e)=>new gi({getter:t,typeName:F.ZodLazy,...q(e)});class Ws extends J{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return P(n,{received:n.data,code:x.invalid_literal,expected:this._def.value}),b}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ws.create=(t,e)=>new Ws({value:t,typeName:F.ZodLiteral,...q(e)});function Ol(t,e){return new ht({values:t,typeName:F.ZodEnum,...q(e)})}class ht extends J{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return P(n,{expected:H.joinValues(i),received:n.parsedType,code:x.invalid_type}),b}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return P(n,{received:n.data,code:x.invalid_enum_value,options:i}),b}return he(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ht.create(e,{...this._def,...n})}exclude(e,n=this._def){return ht.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}ht.create=Ol;class Ks extends J{_parse(e){const n=H.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==R.string&&i.parsedType!==R.number){const o=H.objectValues(n);return P(i,{expected:H.joinValues(o),received:i.parsedType,code:x.invalid_type}),b}if(this._cache||(this._cache=new Set(H.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=H.objectValues(n);return P(i,{received:i.data,code:x.invalid_enum_value,options:o}),b}return he(e.data)}get enum(){return this._def.values}}Ks.create=(t,e)=>new Ks({values:t,typeName:F.ZodNativeEnum,...q(e)});class Cn extends J{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==R.promise&&n.common.async===!1)return P(n,{code:x.invalid_type,expected:R.promise,received:n.parsedType}),b;const i=n.parsedType===R.promise?n.data:Promise.resolve(n.data);return he(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Cn.create=(t,e)=>new Cn({type:t,typeName:F.ZodPromise,...q(e)});class pt extends J{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===F.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:l=>{P(i,l),l.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(i.data,a);if(i.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return b;const f=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return f.status==="aborted"?b:f.status==="dirty"||n.value==="dirty"?It(f.value):f});{if(n.value==="aborted")return b;const u=this._def.schema._parseSync({data:l,path:i.path,parent:i});return u.status==="aborted"?b:u.status==="dirty"||n.value==="dirty"?It(u.value):u}}if(o.type==="refinement"){const l=u=>{const f=o.refinement(u,a);if(i.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?b:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?b:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!ft(l))return b;const u=o.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>ft(l)?Promise.resolve(o.transform(l.value,a)).then(u=>({status:n.value,value:u})):b);H.assertNever(o)}}pt.create=(t,e,n)=>new pt({schema:t,typeName:F.ZodEffects,effect:e,...q(n)});pt.createWithPreprocess=(t,e,n)=>new pt({schema:e,effect:{type:"preprocess",transform:t},typeName:F.ZodEffects,...q(n)});class ke extends J{_parse(e){return this._getType(e)===R.undefined?he(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ke.create=(t,e)=>new ke({innerType:t,typeName:F.ZodOptional,...q(e)});class mt extends J{_parse(e){return this._getType(e)===R.null?he(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}mt.create=(t,e)=>new mt({innerType:t,typeName:F.ZodNullable,...q(e)});class yi extends J{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===R.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yi.create=(t,e)=>new yi({innerType:t,typeName:F.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...q(e)});class vi extends J{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return mn(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Me(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Me(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}vi.create=(t,e)=>new vi({innerType:t,typeName:F.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...q(e)});class zs extends J{_parse(e){if(this._getType(e)!==R.nan){const i=this._getOrReturnCtx(e);return P(i,{code:x.invalid_type,expected:R.nan,received:i.parsedType}),b}return{status:"valid",value:e.data}}}zs.create=t=>new zs({typeName:F.ZodNaN,...q(t)});class Sp extends J{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class fo extends J{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?b:a.status==="dirty"?(n.dirty(),It(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?b:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,n){return new fo({in:e,out:n,typeName:F.ZodPipeline})}}class Ti extends J{_parse(e){const n=this._def.innerType._parse(e),i=o=>(ft(o)&&(o.value=Object.freeze(o.value)),o);return mn(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Ti.create=(t,e)=>new Ti({innerType:t,typeName:F.ZodReadonly,...q(e)});var F;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(F||(F={}));const qe=ge.create,Ys=We.create;Ke.create;const Ep=gn.create;dt.create;const Zs=pi.create;Fe.create;const Rt=Ce.create,xp=Q.create,Ap=yn.create;vn.create;ze.create;const Mp=Tn.create,Pp=gi.create,Ip=ht.create;Cn.create;ke.create;mt.create;const Qe={string:t=>ge.create({...t,coerce:!0}),number:t=>We.create({...t,coerce:!0}),boolean:t=>gn.create({...t,coerce:!0}),bigint:t=>Ke.create({...t,coerce:!0}),date:t=>dt.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rp,wp;function Dp(){return{geminiUrl:Rp,vertexUrl:wp}}function Np(t,e,n){var i,o,a;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const l=Dp();return t.vertexai?(o=l.vertexUrl)!==null&&o!==void 0?o:e:(a=l.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xe{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function r(t,e,n){for(let a=0;a<e.length-1;a++){const l=e[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];r(d,e.slice(a+1),n[c])}else for(const c of f)r(c,e.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];r(f[0],e.slice(a+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function s(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const a=t[o];return Array.isArray(a)?a.map(l=>s(l,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xs;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xs||(Xs={}));var Qs;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Qs||(Qs={}));var ye;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ye||(ye={}));var js;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(js||(js={}));var er;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(er||(er={}));var tr;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(tr||(tr={}));var nr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nr||(nr={}));var ir;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ir||(ir={}));var or;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(or||(or={}));var sr;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sr||(sr={}));var rr;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(rr||(rr={}));var ar;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ar||(ar={}));var lr;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lr||(lr={}));var ur;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ur||(ur={}));var cr;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(cr||(cr={}));var fr;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fr||(fr={}));var _n;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(_n||(_n={}));var dr;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dr||(dr={}));var Ci;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ci||(Ci={}));var hr;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hr||(hr={}));var pr;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pr||(pr={}));var mr;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mr||(mr={}));var gr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gr||(gr={}));var yr;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(yr||(yr={}));var vr;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vr||(vr={}));var Tr;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Tr||(Tr={}));var Cr;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Cr||(Cr={}));var _r;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_r||(_r={}));var Sr;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Sr||(Sr={}));var Er;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Er||(Er={}));var xr;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xr||(xr={}));var Ar;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ar||(Ar={}));var Mr;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Mr||(Mr={}));var Pr;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Pr||(Pr={}));var Ir;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ir||(Ir={}));var Rr;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Rr||(Rr={}));var wr;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wr||(wr={}));var Dr;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Dr||(Dr={}));var Nr;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Nr||(Nr={}));var kr;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(kr||(kr={}));var Vr;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vr||(Vr={}));var st;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(st||(st={}));class _i{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class xt{get text(){var e,n,i,o,a,l,u,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const h=[];for(const p of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[m,g]of Object.entries(p))m!=="text"&&m!=="thought"&&(g!==null||g!==void 0)&&h.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,i,o,a,l,u,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const h of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[p,m]of Object.entries(h))p!=="inlineData"&&(m!==null||m!==void 0)&&d.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,i,o,a,l,u,f;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,i,o,a,l,u,f,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,i,o,a,l,u,f,c;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class Lr{}class Fr{}class kp{}class Vp{}class Ur{}class br{}class Br{}class Lp{}class Gr{}class qr{}class $r{}class Fp{}class Up{}class bp{}class Jr{}class Bp{get text(){var e,n,i;let o="",a=!1;const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,c]of Object.entries(u))f!=="text"&&f!=="thought"&&c!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,n,i;let o="";const a=[];for(const l of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class Gp{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wl(t,e){const n=O(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Kl(t){return Array.isArray(t)?t.map(e=>Sn(e)):[Sn(t)]}function Sn(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zl(t){const e=Sn(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yl(t){const e=Sn(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Hr(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Zl(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Hr(e)):[Hr(t)]}function Si(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Or(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wr(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function se(t){if(t==null)throw new Error("ContentUnion is required");return Si(t)?t:{role:"user",parts:Zl(t)}}function Xl(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=se(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=se(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>se(n)):[se(e)]}function de(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Or(t)||Wr(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[se(t)]}const e=[],n=[],i=Si(t[0]);for(const o of t){const a=Si(o);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(o);else{if(Or(o)||Wr(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:Zl(n)}),e}const qp=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Kr=Ip(["string","number","integer","object","array","boolean","null"]),$p=Ap([Kr,Rt(Kr)]);function Jp(t=!0){const e=Pp(()=>{const n=xp({type:$p.optional(),format:qe().optional(),title:qe().optional(),description:qe().optional(),default:Zs().optional(),items:e.optional(),minItems:Qe.string().optional(),maxItems:Qe.string().optional(),enum:Rt(Zs()).optional(),properties:Mp(qe(),e).optional(),required:Rt(qe()).optional(),minProperties:Qe.string().optional(),maxProperties:Qe.string().optional(),propertyOrdering:Rt(qe()).optional(),minimum:Ys().optional(),maximum:Ys().optional(),minLength:Qe.string().optional(),maxLength:Qe.string().optional(),pattern:qe().optional(),anyOf:Rt(e).optional(),additionalProperties:Ep().optional()});return t?n.strict():n});return e}function Hp(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(ye).includes(n[0].toUpperCase())?n[0].toUpperCase():ye.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(ye).includes(i.toUpperCase())?i.toUpperCase():ye.TYPE_UNSPECIFIED})}}function rt(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Hp(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(ye).includes(u.toUpperCase())?u.toUpperCase():ye.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=rt(u);else if(i.includes(l)){const f=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}f.push(rt(c))}e[l]=f}else if(o.includes(l)){const f={};for(const[c,d]of Object.entries(u))f[c]=rt(d);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function qt(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=Jp().parse(t);return rt(e)}else return rt(t)}function ho(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function po(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function vt(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=qt(e.parameters)),e.response&&(e.response=qt(e.response));return t}function Tt(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Op(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Pe(t,e){if(typeof e!="string")throw new Error("name must be a string");return Op(t,e,"cachedContents")}function Ql(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ie(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Wp(t){return t!=null&&typeof t=="object"&&"name"in t}function Kp(t){return t!=null&&typeof t=="object"&&"video"in t}function zp(t){return t!=null&&typeof t=="object"&&"uri"in t}function jl(t){var e;let n;if(Wp(t)&&(n=t.name),!(zp(t)&&(n=t.uri,n===void 0))&&!(Kp(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eu(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tu(t){for(const e of["models","tunedModels","publisherModels"])if(Yp(t,e))return t[e];return[]}function Yp(t,e){return t!==null&&typeof t=="object"&&e in t}function Zp(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:rt(Rn(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Xp(t,e={}){const n=[],i=new Set;for(const o of t){const a=o.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const l=Zp(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Qp(t){const e=[];for(const n of t)e.push(Rn(n));return e}function jp(t){const e={};for(const[n,i]of Object.entries(t)){const o=i;e[n]=Rn(o)}return e}function Rn(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),o={};for(const[a,l]of Object.entries(t))if(e.has(a))o[a]=Rn(l);else if(n.has(a))o[a]=Qp(l);else if(i.has(a))o[a]=jp(l);else if(a==="type"){const u=l.toUpperCase();o[a]=Object.values(ye).includes(u)?u:ye.TYPE_UNSPECIFIED}else qp.has(a)&&(o[a]=l);return o}function nu(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function em(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ct(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iu(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tm(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function nm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function im(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function om(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],tm(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],nm(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],im(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function ou(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>om(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function sm(t){const e={},n=s(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&r(e,["default"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["enum"]);a!=null&&r(e,["enum"],a);const l=s(t,["example"]);l!=null&&r(e,["example"],l);const u=s(t,["format"]);u!=null&&r(e,["format"],u);const f=s(t,["items"]);f!=null&&r(e,["items"],f);const c=s(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=s(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const h=s(t,["maxProperties"]);h!=null&&r(e,["maxProperties"],h);const p=s(t,["maximum"]);p!=null&&r(e,["maximum"],p);const m=s(t,["minItems"]);m!=null&&r(e,["minItems"],m);const g=s(t,["minLength"]);g!=null&&r(e,["minLength"],g);const y=s(t,["minProperties"]);y!=null&&r(e,["minProperties"],y);const T=s(t,["minimum"]);T!=null&&r(e,["minimum"],T);const v=s(t,["nullable"]);v!=null&&r(e,["nullable"],v);const C=s(t,["pattern"]);C!=null&&r(e,["pattern"],C);const S=s(t,["properties"]);S!=null&&r(e,["properties"],S);const E=s(t,["propertyOrdering"]);E!=null&&r(e,["propertyOrdering"],E);const _=s(t,["required"]);_!=null&&r(e,["required"],_);const M=s(t,["title"]);M!=null&&r(e,["title"],M);const N=s(t,["type"]);return N!=null&&r(e,["type"],N),e}function rm(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&r(e,["category"],n);const i=s(t,["threshold"]);return i!=null&&r(e,["threshold"],i),e}function am(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function lm(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function um(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],lm(n)),e}function cm(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function fm(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],cm(n)),e}function dm(){return{}}function hm(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>am(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],um(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],fm(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],dm());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function pm(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function mm(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function gm(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],mm(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function ym(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],pm(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],gm(i)),e}function vm(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function su(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],vm(n)),e}function Tm(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],su(i)),e}function Cm(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Tm(o))),r(e,["speakerVoiceConfigs"],i)}return e}function _m(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],su(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],Cm(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function Sm(t){const e={},n=s(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&r(e,["thinkingBudget"],i),e}function Em(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],ou(se(o)));const a=s(e,["temperature"]);a!=null&&r(i,["temperature"],a);const l=s(e,["topP"]);l!=null&&r(i,["topP"],l);const u=s(e,["topK"]);u!=null&&r(i,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&r(i,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&r(i,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const h=s(e,["responseLogprobs"]);h!=null&&r(i,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&r(i,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&r(i,["frequencyPenalty"],g);const y=s(e,["seed"]);y!=null&&r(i,["seed"],y);const T=s(e,["responseMimeType"]);T!=null&&r(i,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&r(i,["responseSchema"],sm(qt(v)));const C=s(e,["responseJsonSchema"]);if(C!=null&&r(i,["responseJsonSchema"],C),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let $=S;Array.isArray($)&&($=$.map(te=>rm(te))),r(n,["safetySettings"],$)}const E=s(e,["tools"]);if(n!==void 0&&E!=null){let $=Tt(E);Array.isArray($)&&($=$.map(te=>hm(vt(te)))),r(n,["tools"],$)}const _=s(e,["toolConfig"]);if(n!==void 0&&_!=null&&r(n,["toolConfig"],ym(_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=s(e,["cachedContent"]);n!==void 0&&M!=null&&r(n,["cachedContent"],Pe(t,M));const N=s(e,["responseModalities"]);N!=null&&r(i,["responseModalities"],N);const I=s(e,["mediaResolution"]);I!=null&&r(i,["mediaResolution"],I);const w=s(e,["speechConfig"]);if(w!=null&&r(i,["speechConfig"],_m(ho(w))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=s(e,["thinkingConfig"]);return B!=null&&r(i,["thinkingConfig"],Sm(B)),i}function xm(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["request","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=de(o);Array.isArray(l)&&(l=l.map(u=>ou(u))),r(n,["request","contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["request","generationConfig"],Em(t,a,n)),n}function Am(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(e,["fileName"]);i!=null&&r(n,["fileName"],i);const o=s(e,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>xm(t,l))),r(n,["requests","requests"],a)}return n}function Mm(t,e){const n={},i=s(t,["displayName"]);if(e!==void 0&&i!=null&&r(e,["batch","displayName"],i),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Pm(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["src"]);o!=null&&r(n,["batch","inputConfig"],Am(t,nu(t,o)));const a=s(e,["config"]);return a!=null&&r(n,["config"],Mm(a,n)),n}function Im(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ct(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Rm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ct(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function wm(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);if(e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Dm(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],wm(n,e)),e}function Nm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ct(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function km(t){const e={},n=s(t,["format"]);n!=null&&r(e,["instancesFormat"],n);const i=s(t,["gcsUri"]);i!=null&&r(e,["gcsSource","uris"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&r(e,["bigquerySource","inputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Vm(t){const e={},n=s(t,["format"]);n!=null&&r(e,["predictionsFormat"],n);const i=s(t,["gcsUri"]);i!=null&&r(e,["gcsDestination","outputUriPrefix"],i);const o=s(t,["bigqueryUri"]);if(o!=null&&r(e,["bigqueryDestination","outputUri"],o),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function Lm(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&r(e,["displayName"],i);const o=s(t,["dest"]);return e!==void 0&&o!=null&&r(e,["outputConfig"],Vm(em(o))),n}function Fm(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["model"],O(t,i));const o=s(e,["src"]);o!=null&&r(n,["inputConfig"],km(nu(t,o)));const a=s(e,["config"]);return a!=null&&r(n,["config"],Lm(a,n)),n}function Um(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ct(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function bm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ct(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Bm(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&r(e,["_query","pageToken"],o);const a=s(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function Gm(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],Bm(n,e)),e}function qm(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Ct(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function ru(){return{}}function $m(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Jm(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Hm(t){const e={},n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Om(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],$m(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],Jm(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Hm(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Wm(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Om(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function Km(t){const e={},n=s(t,["citationSources"]);return n!=null&&r(e,["citations"],n),e}function zm(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function Ym(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>zm(o))),r(e,["urlMetadata"],i)}return e}function Zm(t){const e={},n=s(t,["content"]);n!=null&&r(e,["content"],Wm(n));const i=s(t,["citationMetadata"]);i!=null&&r(e,["citationMetadata"],Km(i));const o=s(t,["tokenCount"]);o!=null&&r(e,["tokenCount"],o);const a=s(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=s(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],Ym(l));const u=s(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=s(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&r(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const h=s(t,["safetyRatings"]);return h!=null&&r(e,["safetyRatings"],h),e}function Xm(t){const e={},n=s(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Zm(u))),r(e,["candidates"],l)}const i=s(t,["modelVersion"]);i!=null&&r(e,["modelVersion"],i);const o=s(t,["promptFeedback"]);o!=null&&r(e,["promptFeedback"],o);const a=s(t,["usageMetadata"]);return a!=null&&r(e,["usageMetadata"],a),e}function Qm(t){const e={},n=s(t,["response"]);return n!=null&&r(e,["response"],Xm(n)),s(t,["error"])!=null&&r(e,["error"],ru()),e}function jm(t){const e={},n=s(t,["responsesFile"]);n!=null&&r(e,["fileName"],n);const i=s(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Qm(a))),r(e,["inlinedResponses"],o)}return e}function Ei(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata","displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["metadata","state"]);o!=null&&r(e,["state"],iu(o));const a=s(t,["metadata","createTime"]);a!=null&&r(e,["createTime"],a);const l=s(t,["metadata","endTime"]);l!=null&&r(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&r(e,["updateTime"],u);const f=s(t,["metadata","model"]);f!=null&&r(e,["model"],f);const c=s(t,["metadata","output"]);return c!=null&&r(e,["dest"],jm(c)),e}function eg(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ei(a))),r(e,["batchJobs"],o)}return e}function tg(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["done"]);return i!=null&&r(e,["done"],i),s(t,["error"])!=null&&r(e,["error"],ru()),e}function au(t){const e={},n=s(t,["details"]);n!=null&&r(e,["details"],n);const i=s(t,["code"]);i!=null&&r(e,["code"],i);const o=s(t,["message"]);return o!=null&&r(e,["message"],o),e}function ng(t){const e={},n=s(t,["instancesFormat"]);n!=null&&r(e,["format"],n);const i=s(t,["gcsSource","uris"]);i!=null&&r(e,["gcsUri"],i);const o=s(t,["bigquerySource","inputUri"]);return o!=null&&r(e,["bigqueryUri"],o),e}function ig(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&r(e,["format"],n);const i=s(t,["gcsDestination","outputUriPrefix"]);i!=null&&r(e,["gcsUri"],i);const o=s(t,["bigqueryDestination","outputUri"]);return o!=null&&r(e,["bigqueryUri"],o),e}function xi(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["state"]);o!=null&&r(e,["state"],iu(o));const a=s(t,["error"]);a!=null&&r(e,["error"],au(a));const l=s(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&r(e,["startTime"],u);const f=s(t,["endTime"]);f!=null&&r(e,["endTime"],f);const c=s(t,["updateTime"]);c!=null&&r(e,["updateTime"],c);const d=s(t,["model"]);d!=null&&r(e,["model"],d);const h=s(t,["inputConfig"]);h!=null&&r(e,["src"],ng(h));const p=s(t,["outputConfig"]);return p!=null&&r(e,["dest"],ig(p)),e}function og(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>xi(a))),r(e,["batchJobs"],o)}return e}function sg(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["done"]);i!=null&&r(e,["done"],i);const o=s(t,["error"]);return o!=null&&r(e,["error"],au(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ye;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ye||(Ye={}));class Wt{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};i?typeof i=="object"?l=Object.assign({},i):l=i:l={config:{}},l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rg extends Xe{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Wt(Ye.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Fm(this.apiClient,e);return u=V("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>xi(d))}else{const c=Pm(this.apiClient,e);return u=V("{model}:batchGenerateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Ei(d))}}async get(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Um(this.apiClient,e);return u=V("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>xi(d))}else{const c=Im(this.apiClient,e);return u=V("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Ei(d))}}async cancel(e){var n,i,o,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=bm(this.apiClient,e);l=V("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=Rm(this.apiClient,e);l=V("batches/{name}:cancel",f._url),u=f._query,delete f.config,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Gm(e);return u=V("batchPredictionJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=og(d),p=new Jr;return Object.assign(p,h),p})}else{const c=Dm(e);return u=V("batches",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=eg(d),p=new Jr;return Object.assign(p,h),p})}}async delete(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=qm(this.apiClient,e);return u=V("batchPredictionJobs/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>sg(d))}else{const c=Nm(this.apiClient,e);return u=V("batches/{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>tg(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ag(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function lg(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function ug(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function cg(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],ag(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],lg(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],ug(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function zr(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>cg(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function fg(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function dg(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function hg(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],dg(n)),e}function pg(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function mg(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],pg(n)),e}function gg(){return{}}function yg(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>fg(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],hg(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],mg(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],gg());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function vg(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function Tg(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function Cg(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],Tg(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function _g(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],vg(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],Cg(i)),e}function Sg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&r(e,["expireTime"],o);const a=s(t,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let d=de(l);Array.isArray(d)&&(d=d.map(h=>zr(h))),r(e,["contents"],d)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&r(e,["systemInstruction"],zr(se(u)));const f=s(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(h=>yg(h))),r(e,["tools"],d)}const c=s(t,["toolConfig"]);if(e!==void 0&&c!=null&&r(e,["toolConfig"],_g(c)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Eg(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["model"],Wl(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],Sg(o,n)),n}function xg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Ag(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Mg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&r(e,["expireTime"],o),n}function Pg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],Mg(o,n)),n}function Ig(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),n}function Rg(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],Ig(n,e)),e}function wg(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Dg(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ng(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function kg(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],wg(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],Dg(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Ng(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Yr(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>kg(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function Vg(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&r(e,["description"],n);const i=s(t,["name"]);i!=null&&r(e,["name"],i);const o=s(t,["parameters"]);o!=null&&r(e,["parameters"],o);const a=s(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=s(t,["response"]);l!=null&&r(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function Lg(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function Fg(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Lg(n)),e}function Ug(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function bg(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Ug(n)),e}function Bg(){return{}}function Gg(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function qg(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],Gg(n));const i=s(t,["authType"]);i!=null&&r(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&r(e,["googleServiceAccountConfig"],o);const a=s(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=s(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function $g(t){const e={},n=s(t,["authConfig"]);return n!=null&&r(e,["authConfig"],qg(n)),e}function Jg(){return{}}function Hg(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Vg(p))),r(e,["functionDeclarations"],h)}const i=s(t,["retrieval"]);i!=null&&r(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],Fg(o));const a=s(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],bg(a)),s(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],Bg());const u=s(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],$g(u)),s(t,["urlContext"])!=null&&r(e,["urlContext"],Jg());const c=s(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=s(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function Og(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function Wg(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function Kg(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],Wg(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function zg(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],Og(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],Kg(i)),e}function Yg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);e!==void 0&&o!=null&&r(e,["expireTime"],o);const a=s(t,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let h=de(l);Array.isArray(h)&&(h=h.map(p=>Yr(p))),r(e,["contents"],h)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&r(e,["systemInstruction"],Yr(se(u)));const f=s(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>Hg(p))),r(e,["tools"],h)}const c=s(t,["toolConfig"]);e!==void 0&&c!=null&&r(e,["toolConfig"],zg(c));const d=s(t,["kmsKeyName"]);return e!==void 0&&d!=null&&r(e,["encryption_spec","kmsKeyName"],d),n}function Zg(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["model"],Wl(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],Yg(o,n)),n}function Xg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function Qg(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function jg(t,e){const n={},i=s(t,["ttl"]);e!==void 0&&i!=null&&r(e,["ttl"],i);const o=s(t,["expireTime"]);return e!==void 0&&o!=null&&r(e,["expireTime"],o),n}function ey(t,e){const n={},i=s(e,["name"]);i!=null&&r(n,["_url","name"],Pe(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],jg(o,n)),n}function ty(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),n}function ny(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],ty(n,e)),e}function sn(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["model"]);o!=null&&r(e,["model"],o);const a=s(t,["createTime"]);a!=null&&r(e,["createTime"],a);const l=s(t,["updateTime"]);l!=null&&r(e,["updateTime"],l);const u=s(t,["expireTime"]);u!=null&&r(e,["expireTime"],u);const f=s(t,["usageMetadata"]);return f!=null&&r(e,["usageMetadata"],f),e}function iy(){return{}}function oy(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>sn(a))),r(e,["cachedContents"],o)}return e}function rn(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["model"]);o!=null&&r(e,["model"],o);const a=s(t,["createTime"]);a!=null&&r(e,["createTime"],a);const l=s(t,["updateTime"]);l!=null&&r(e,["updateTime"],l);const u=s(t,["expireTime"]);u!=null&&r(e,["expireTime"],u);const f=s(t,["usageMetadata"]);return f!=null&&r(e,["usageMetadata"],f),e}function sy(){return{}}function ry(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>rn(a))),r(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ay extends Xe{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wt(Ye.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Zg(this.apiClient,e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>rn(d))}else{const c=Eg(this.apiClient,e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>sn(d))}}async get(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Xg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>rn(d))}else{const c=xg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>sn(d))}}async delete(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=Qg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(()=>{const d=sy(),h=new qr;return Object.assign(h,d),h})}else{const c=Ag(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(()=>{const d=iy(),h=new qr;return Object.assign(h,d),h})}}async update(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ey(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>rn(d))}else{const c=Pg(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>sn(d))}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ny(e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=ry(d),p=new $r;return Object.assign(p,h),p})}else{const c=Rg(e);return u=V("cachedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=oy(d),p=new $r;return Object.assign(p,h),p})}}}function Zr(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(t){return this instanceof W?(this.v=t,this):new W(t)}function at(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(m){return function(g){return Promise.resolve(g).then(m,h)}}function u(m,g){i[m]&&(o[m]=function(y){return new Promise(function(T,v){a.push([m,y,T,v])>1||f(m,y)})},g&&(o[m]=g(o[m])))}function f(m,g){try{c(i[m](g))}catch(y){p(a[0][3],y)}}function c(m){m.value instanceof W?Promise.resolve(m.value.v).then(d,h):p(a[0][2],m)}function d(m){f("next",m)}function h(m){f("throw",m)}function p(m,g){m(g),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Vt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zr=="function"?Zr(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=t[a]&&function(l){return new Promise(function(u,f){l=t[a](l),o(u,f,l.done,l.value)})}}function o(a,l,u,f){Promise.resolve(f).then(function(c){a({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ly(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:lu(n)}function lu(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function uy(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Xr(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let a=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),a&&!lu(t[i])&&(a=!1),i++;a?e.push(...o):e.pop()}return e}class cy{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fy(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fy{constructor(e,n,i,o={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),uy(a)}async sendMessage(e){var n;await this.sendPromise;const i=se(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const f=await o,c=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,d=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];d!=null&&(p=(u=d.slice(h))!==null&&u!==void 0?u:[]);const m=c?[c]:[];this.recordHistory(i,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=se(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,i)}getHistory(e=!1){const n=e?Xr(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,o;return at(this,arguments,function*(){var l,u,f,c;const d=[];try{for(var h=!0,p=Vt(e),m;m=yield W(p.next()),l=m.done,!l;h=!0){c=m.value,h=!1;const g=c;if(ly(g)){const y=(o=(i=g.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;y!==void 0&&d.push(y)}yield yield W(g)}}catch(g){u={error:g}}finally{try{!h&&!l&&(f=p.return)&&(yield W(f.call(p)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Xr(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,wn.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dy(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);return e!==void 0&&o!=null&&r(e,["_query","pageToken"],o),n}function hy(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],dy(n,e)),e}function py(t){const e={},n=s(t,["details"]);n!=null&&r(e,["details"],n);const i=s(t,["message"]);i!=null&&r(e,["message"],i);const o=s(t,["code"]);return o!=null&&r(e,["code"],o),e}function my(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["mimeType"]);o!=null&&r(e,["mimeType"],o);const a=s(t,["sizeBytes"]);a!=null&&r(e,["sizeBytes"],a);const l=s(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(t,["expirationTime"]);u!=null&&r(e,["expirationTime"],u);const f=s(t,["updateTime"]);f!=null&&r(e,["updateTime"],f);const c=s(t,["sha256Hash"]);c!=null&&r(e,["sha256Hash"],c);const d=s(t,["uri"]);d!=null&&r(e,["uri"],d);const h=s(t,["downloadUri"]);h!=null&&r(e,["downloadUri"],h);const p=s(t,["state"]);p!=null&&r(e,["state"],p);const m=s(t,["source"]);m!=null&&r(e,["source"],m);const g=s(t,["videoMetadata"]);g!=null&&r(e,["videoMetadata"],g);const y=s(t,["error"]);return y!=null&&r(e,["error"],py(y)),e}function gy(t){const e={},n=s(t,["file"]);n!=null&&r(e,["file"],my(n));const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function yy(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","file"],jl(n));const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function vy(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","file"],jl(n));const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function Ty(t){const e={},n=s(t,["details"]);n!=null&&r(e,["details"],n);const i=s(t,["message"]);i!=null&&r(e,["message"],i);const o=s(t,["code"]);return o!=null&&r(e,["code"],o),e}function Ai(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["mimeType"]);o!=null&&r(e,["mimeType"],o);const a=s(t,["sizeBytes"]);a!=null&&r(e,["sizeBytes"],a);const l=s(t,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(t,["expirationTime"]);u!=null&&r(e,["expirationTime"],u);const f=s(t,["updateTime"]);f!=null&&r(e,["updateTime"],f);const c=s(t,["sha256Hash"]);c!=null&&r(e,["sha256Hash"],c);const d=s(t,["uri"]);d!=null&&r(e,["uri"],d);const h=s(t,["downloadUri"]);h!=null&&r(e,["downloadUri"],h);const p=s(t,["state"]);p!=null&&r(e,["state"],p);const m=s(t,["source"]);m!=null&&r(e,["source"],m);const g=s(t,["videoMetadata"]);g!=null&&r(e,["videoMetadata"],g);const y=s(t,["error"]);return y!=null&&r(e,["error"],Ty(y)),e}function Cy(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Ai(a))),r(e,["files"],o)}return e}function _y(){return{}}function Sy(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ey extends Xe{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wt(Ye.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ai(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hy(e);return a=V("files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=Cy(f),d=new Fp;return Object.assign(d,c),d})}}async createInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gy(e);return a=V("upload/v1beta/files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(()=>{const f=_y(),c=new Up;return Object.assign(c,f),c})}}async get(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yy(e);return a=V("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>Ai(f))}}async delete(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vy(e);return a=V("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(()=>{const f=Sy(),c=new bp;return Object.assign(c,f),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xy(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function Ay(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function uu(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],xy(n)),e}function My(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],Ay(n)),e}function Py(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],uu(i)),e}function Iy(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Py(o))),r(e,["speakerVoiceConfigs"],i)}return e}function Ry(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],uu(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],Iy(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function wy(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&r(e,["voiceConfig"],My(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function Dy(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Ny(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function ky(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Vy(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Ly(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Fy(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Uy(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Dy(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],ky(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Ly(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function by(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Ny(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],Vy(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Fy(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function By(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Uy(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function Gy(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>by(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function qy(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function $y(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&r(e,["description"],n);const i=s(t,["name"]);i!=null&&r(e,["name"],i);const o=s(t,["parameters"]);o!=null&&r(e,["parameters"],o);const a=s(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=s(t,["response"]);l!=null&&r(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function Jy(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function Hy(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function Oy(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Jy(n)),e}function Wy(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],Hy(n)),e}function Ky(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function zy(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function Yy(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],Ky(n)),e}function Zy(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],zy(n)),e}function Xy(){return{}}function Qy(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function jy(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],Qy(n));const i=s(t,["authType"]);i!=null&&r(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&r(e,["googleServiceAccountConfig"],o);const a=s(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=s(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function ev(t){const e={},n=s(t,["authConfig"]);return n!=null&&r(e,["authConfig"],jy(n)),e}function tv(){return{}}function nv(){return{}}function iv(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>qy(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],Oy(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],Yy(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],tv());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function ov(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>$y(p))),r(e,["functionDeclarations"],h)}const i=s(t,["retrieval"]);i!=null&&r(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],Wy(o));const a=s(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],Zy(a)),s(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],Xy());const u=s(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],ev(u)),s(t,["urlContext"])!=null&&r(e,["urlContext"],nv());const c=s(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=s(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function sv(t){const e={},n=s(t,["handle"]);if(n!=null&&r(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rv(t){const e={},n=s(t,["handle"]);n!=null&&r(e,["handle"],n);const i=s(t,["transparent"]);return i!=null&&r(e,["transparent"],i),e}function Qr(){return{}}function jr(){return{}}function av(t){const e={},n=s(t,["disabled"]);n!=null&&r(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&r(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&r(e,["endOfSpeechSensitivity"],o);const a=s(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=s(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function lv(t){const e={},n=s(t,["disabled"]);n!=null&&r(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&r(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&r(e,["endOfSpeechSensitivity"],o);const a=s(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=s(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function uv(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],av(n));const i=s(t,["activityHandling"]);i!=null&&r(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&r(e,["turnCoverage"],o),e}function cv(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],lv(n));const i=s(t,["activityHandling"]);i!=null&&r(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&r(e,["turnCoverage"],o),e}function fv(t){const e={},n=s(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function dv(t){const e={},n=s(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function hv(t){const e={},n=s(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&r(e,["slidingWindow"],fv(i)),e}function pv(t){const e={},n=s(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&r(e,["slidingWindow"],dv(i)),e}function mv(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function gv(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function yv(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&r(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig","responseModalities"],o);const a=s(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=s(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","speechConfig"],Ry(po(h)));const p=s(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],p);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&r(e,["setup","systemInstruction"],By(se(m)));const g=s(t,["tools"]);if(e!==void 0&&g!=null){let _=Tt(g);Array.isArray(_)&&(_=_.map(M=>iv(vt(M)))),r(e,["setup","tools"],_)}const y=s(t,["sessionResumption"]);e!==void 0&&y!=null&&r(e,["setup","sessionResumption"],sv(y));const T=s(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&r(e,["setup","inputAudioTranscription"],Qr());const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&r(e,["setup","outputAudioTranscription"],Qr());const C=s(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&r(e,["setup","realtimeInputConfig"],uv(C));const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&r(e,["setup","contextWindowCompression"],hv(S));const E=s(t,["proactivity"]);return e!==void 0&&E!=null&&r(e,["setup","proactivity"],mv(E)),n}function vv(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&r(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig","responseModalities"],o);const a=s(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=s(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","speechConfig"],wy(po(h)));const p=s(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],p);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&r(e,["setup","systemInstruction"],Gy(se(m)));const g=s(t,["tools"]);if(e!==void 0&&g!=null){let _=Tt(g);Array.isArray(_)&&(_=_.map(M=>ov(vt(M)))),r(e,["setup","tools"],_)}const y=s(t,["sessionResumption"]);e!==void 0&&y!=null&&r(e,["setup","sessionResumption"],rv(y));const T=s(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&r(e,["setup","inputAudioTranscription"],jr());const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&r(e,["setup","outputAudioTranscription"],jr());const C=s(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&r(e,["setup","realtimeInputConfig"],cv(C));const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&r(e,["setup","contextWindowCompression"],pv(S));const E=s(t,["proactivity"]);return e!==void 0&&E!=null&&r(e,["setup","proactivity"],gv(E)),n}function Tv(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["setup","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],yv(o,n)),n}function Cv(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["setup","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],vv(o,n)),n}function _v(){return{}}function Sv(){return{}}function Ev(){return{}}function xv(){return{}}function Av(t){const e={},n=s(t,["media"]);n!=null&&r(e,["mediaChunks"],Kl(n));const i=s(t,["audio"]);i!=null&&r(e,["audio"],Yl(i));const o=s(t,["audioStreamEnd"]);o!=null&&r(e,["audioStreamEnd"],o);const a=s(t,["video"]);a!=null&&r(e,["video"],zl(a));const l=s(t,["text"]);return l!=null&&r(e,["text"],l),s(t,["activityStart"])!=null&&r(e,["activityStart"],_v()),s(t,["activityEnd"])!=null&&r(e,["activityEnd"],Ev()),e}function Mv(t){const e={},n=s(t,["media"]);n!=null&&r(e,["mediaChunks"],Kl(n));const i=s(t,["audio"]);i!=null&&r(e,["audio"],Yl(i));const o=s(t,["audioStreamEnd"]);o!=null&&r(e,["audioStreamEnd"],o);const a=s(t,["video"]);a!=null&&r(e,["video"],zl(a));const l=s(t,["text"]);return l!=null&&r(e,["text"],l),s(t,["activityStart"])!=null&&r(e,["activityStart"],Sv()),s(t,["activityEnd"])!=null&&r(e,["activityEnd"],xv()),e}function cu(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["weight"]);return i!=null&&r(e,["weight"],i),e}function Pv(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cu(o))),r(e,["weightedPrompts"],i)}return e}function fu(t){const e={},n=s(t,["temperature"]);n!=null&&r(e,["temperature"],n);const i=s(t,["topK"]);i!=null&&r(e,["topK"],i);const o=s(t,["seed"]);o!=null&&r(e,["seed"],o);const a=s(t,["guidance"]);a!=null&&r(e,["guidance"],a);const l=s(t,["bpm"]);l!=null&&r(e,["bpm"],l);const u=s(t,["density"]);u!=null&&r(e,["density"],u);const f=s(t,["brightness"]);f!=null&&r(e,["brightness"],f);const c=s(t,["scale"]);c!=null&&r(e,["scale"],c);const d=s(t,["muteBass"]);d!=null&&r(e,["muteBass"],d);const h=s(t,["muteDrums"]);h!=null&&r(e,["muteDrums"],h);const p=s(t,["onlyBassAndDrums"]);return p!=null&&r(e,["onlyBassAndDrums"],p),e}function Iv(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&r(e,["musicGenerationConfig"],fu(n)),e}function du(t){const e={},n=s(t,["model"]);return n!=null&&r(e,["model"],n),e}function hu(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cu(o))),r(e,["weightedPrompts"],i)}return e}function Mi(t){const e={},n=s(t,["setup"]);n!=null&&r(e,["setup"],du(n));const i=s(t,["clientContent"]);i!=null&&r(e,["clientContent"],hu(i));const o=s(t,["musicGenerationConfig"]);o!=null&&r(e,["musicGenerationConfig"],fu(o));const a=s(t,["playbackControl"]);return a!=null&&r(e,["playbackControl"],a),e}function Rv(){return{}}function wv(t){const e={},n=s(t,["sessionId"]);return n!=null&&r(e,["sessionId"],n),e}function Dv(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function Nv(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function kv(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Vv(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Lv(t){const e={},n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function Fv(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function Uv(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Dv(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],kv(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Lv(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function bv(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],Nv(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],Vv(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],Fv(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Bv(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Uv(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function Gv(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>bv(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function ea(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["finished"]);return i!=null&&r(e,["finished"],i),e}function ta(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["finished"]);return i!=null&&r(e,["finished"],i),e}function qv(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function $v(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qv(o))),r(e,["urlMetadata"],i)}return e}function Jv(t){const e={},n=s(t,["modelTurn"]);n!=null&&r(e,["modelTurn"],Bv(n));const i=s(t,["turnComplete"]);i!=null&&r(e,["turnComplete"],i);const o=s(t,["interrupted"]);o!=null&&r(e,["interrupted"],o);const a=s(t,["groundingMetadata"]);a!=null&&r(e,["groundingMetadata"],a);const l=s(t,["generationComplete"]);l!=null&&r(e,["generationComplete"],l);const u=s(t,["inputTranscription"]);u!=null&&r(e,["inputTranscription"],ea(u));const f=s(t,["outputTranscription"]);f!=null&&r(e,["outputTranscription"],ea(f));const c=s(t,["urlContextMetadata"]);return c!=null&&r(e,["urlContextMetadata"],$v(c)),e}function Hv(t){const e={},n=s(t,["modelTurn"]);n!=null&&r(e,["modelTurn"],Gv(n));const i=s(t,["turnComplete"]);i!=null&&r(e,["turnComplete"],i);const o=s(t,["interrupted"]);o!=null&&r(e,["interrupted"],o);const a=s(t,["groundingMetadata"]);a!=null&&r(e,["groundingMetadata"],a);const l=s(t,["generationComplete"]);l!=null&&r(e,["generationComplete"],l);const u=s(t,["inputTranscription"]);u!=null&&r(e,["inputTranscription"],ta(u));const f=s(t,["outputTranscription"]);return f!=null&&r(e,["outputTranscription"],ta(f)),e}function Ov(t){const e={},n=s(t,["id"]);n!=null&&r(e,["id"],n);const i=s(t,["args"]);i!=null&&r(e,["args"],i);const o=s(t,["name"]);return o!=null&&r(e,["name"],o),e}function Wv(t){const e={},n=s(t,["args"]);n!=null&&r(e,["args"],n);const i=s(t,["name"]);return i!=null&&r(e,["name"],i),e}function Kv(t){const e={},n=s(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ov(o))),r(e,["functionCalls"],i)}return e}function zv(t){const e={},n=s(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Wv(o))),r(e,["functionCalls"],i)}return e}function Yv(t){const e={},n=s(t,["ids"]);return n!=null&&r(e,["ids"],n),e}function Zv(t){const e={},n=s(t,["ids"]);return n!=null&&r(e,["ids"],n),e}function jt(t){const e={},n=s(t,["modality"]);n!=null&&r(e,["modality"],n);const i=s(t,["tokenCount"]);return i!=null&&r(e,["tokenCount"],i),e}function en(t){const e={},n=s(t,["modality"]);n!=null&&r(e,["modality"],n);const i=s(t,["tokenCount"]);return i!=null&&r(e,["tokenCount"],i),e}function Xv(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&r(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&r(e,["cachedContentTokenCount"],i);const o=s(t,["responseTokenCount"]);o!=null&&r(e,["responseTokenCount"],o);const a=s(t,["toolUsePromptTokenCount"]);a!=null&&r(e,["toolUsePromptTokenCount"],a);const l=s(t,["thoughtsTokenCount"]);l!=null&&r(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&r(e,["totalTokenCount"],u);const f=s(t,["promptTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>jt(m))),r(e,["promptTokensDetails"],p)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>jt(m))),r(e,["cacheTokensDetails"],p)}const d=s(t,["responseTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>jt(m))),r(e,["responseTokensDetails"],p)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>jt(m))),r(e,["toolUsePromptTokensDetails"],p)}return e}function Qv(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&r(e,["promptTokenCount"],n);const i=s(t,["cachedContentTokenCount"]);i!=null&&r(e,["cachedContentTokenCount"],i);const o=s(t,["candidatesTokenCount"]);o!=null&&r(e,["responseTokenCount"],o);const a=s(t,["toolUsePromptTokenCount"]);a!=null&&r(e,["toolUsePromptTokenCount"],a);const l=s(t,["thoughtsTokenCount"]);l!=null&&r(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&r(e,["totalTokenCount"],u);const f=s(t,["promptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>en(g))),r(e,["promptTokensDetails"],m)}const c=s(t,["cacheTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>en(g))),r(e,["cacheTokensDetails"],m)}const d=s(t,["candidatesTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>en(g))),r(e,["responseTokensDetails"],m)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>en(g))),r(e,["toolUsePromptTokensDetails"],m)}const p=s(t,["trafficType"]);return p!=null&&r(e,["trafficType"],p),e}function jv(t){const e={},n=s(t,["timeLeft"]);return n!=null&&r(e,["timeLeft"],n),e}function eT(t){const e={},n=s(t,["timeLeft"]);return n!=null&&r(e,["timeLeft"],n),e}function tT(t){const e={},n=s(t,["newHandle"]);n!=null&&r(e,["newHandle"],n);const i=s(t,["resumable"]);i!=null&&r(e,["resumable"],i);const o=s(t,["lastConsumedClientMessageIndex"]);return o!=null&&r(e,["lastConsumedClientMessageIndex"],o),e}function nT(t){const e={},n=s(t,["newHandle"]);n!=null&&r(e,["newHandle"],n);const i=s(t,["resumable"]);i!=null&&r(e,["resumable"],i);const o=s(t,["lastConsumedClientMessageIndex"]);return o!=null&&r(e,["lastConsumedClientMessageIndex"],o),e}function iT(t){const e={};s(t,["setupComplete"])!=null&&r(e,["setupComplete"],Rv());const i=s(t,["serverContent"]);i!=null&&r(e,["serverContent"],Jv(i));const o=s(t,["toolCall"]);o!=null&&r(e,["toolCall"],Kv(o));const a=s(t,["toolCallCancellation"]);a!=null&&r(e,["toolCallCancellation"],Yv(a));const l=s(t,["usageMetadata"]);l!=null&&r(e,["usageMetadata"],Xv(l));const u=s(t,["goAway"]);u!=null&&r(e,["goAway"],jv(u));const f=s(t,["sessionResumptionUpdate"]);return f!=null&&r(e,["sessionResumptionUpdate"],tT(f)),e}function oT(t){const e={},n=s(t,["setupComplete"]);n!=null&&r(e,["setupComplete"],wv(n));const i=s(t,["serverContent"]);i!=null&&r(e,["serverContent"],Hv(i));const o=s(t,["toolCall"]);o!=null&&r(e,["toolCall"],zv(o));const a=s(t,["toolCallCancellation"]);a!=null&&r(e,["toolCallCancellation"],Zv(a));const l=s(t,["usageMetadata"]);l!=null&&r(e,["usageMetadata"],Qv(l));const u=s(t,["goAway"]);u!=null&&r(e,["goAway"],eT(u));const f=s(t,["sessionResumptionUpdate"]);return f!=null&&r(e,["sessionResumptionUpdate"],nT(f)),e}function sT(){return{}}function rT(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["weight"]);return i!=null&&r(e,["weight"],i),e}function aT(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rT(o))),r(e,["weightedPrompts"],i)}return e}function lT(t){const e={},n=s(t,["temperature"]);n!=null&&r(e,["temperature"],n);const i=s(t,["topK"]);i!=null&&r(e,["topK"],i);const o=s(t,["seed"]);o!=null&&r(e,["seed"],o);const a=s(t,["guidance"]);a!=null&&r(e,["guidance"],a);const l=s(t,["bpm"]);l!=null&&r(e,["bpm"],l);const u=s(t,["density"]);u!=null&&r(e,["density"],u);const f=s(t,["brightness"]);f!=null&&r(e,["brightness"],f);const c=s(t,["scale"]);c!=null&&r(e,["scale"],c);const d=s(t,["muteBass"]);d!=null&&r(e,["muteBass"],d);const h=s(t,["muteDrums"]);h!=null&&r(e,["muteDrums"],h);const p=s(t,["onlyBassAndDrums"]);return p!=null&&r(e,["onlyBassAndDrums"],p),e}function uT(t){const e={},n=s(t,["clientContent"]);n!=null&&r(e,["clientContent"],aT(n));const i=s(t,["musicGenerationConfig"]);return i!=null&&r(e,["musicGenerationConfig"],lT(i)),e}function cT(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);i!=null&&r(e,["mimeType"],i);const o=s(t,["sourceMetadata"]);return o!=null&&r(e,["sourceMetadata"],uT(o)),e}function fT(t){const e={},n=s(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cT(o))),r(e,["audioChunks"],i)}return e}function dT(t){const e={},n=s(t,["text"]);n!=null&&r(e,["text"],n);const i=s(t,["filteredReason"]);return i!=null&&r(e,["filteredReason"],i),e}function hT(t){const e={};s(t,["setupComplete"])!=null&&r(e,["setupComplete"],sT());const i=s(t,["serverContent"]);i!=null&&r(e,["serverContent"],fT(i));const o=s(t,["filteredPrompt"]);return o!=null&&r(e,["filteredPrompt"],dT(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pT(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function mT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function gT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function yT(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],pT(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],mT(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],gT(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function Dn(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>yT(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function vT(t){const e={},n=s(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&r(e,["default"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["enum"]);a!=null&&r(e,["enum"],a);const l=s(t,["example"]);l!=null&&r(e,["example"],l);const u=s(t,["format"]);u!=null&&r(e,["format"],u);const f=s(t,["items"]);f!=null&&r(e,["items"],f);const c=s(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=s(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const h=s(t,["maxProperties"]);h!=null&&r(e,["maxProperties"],h);const p=s(t,["maximum"]);p!=null&&r(e,["maximum"],p);const m=s(t,["minItems"]);m!=null&&r(e,["minItems"],m);const g=s(t,["minLength"]);g!=null&&r(e,["minLength"],g);const y=s(t,["minProperties"]);y!=null&&r(e,["minProperties"],y);const T=s(t,["minimum"]);T!=null&&r(e,["minimum"],T);const v=s(t,["nullable"]);v!=null&&r(e,["nullable"],v);const C=s(t,["pattern"]);C!=null&&r(e,["pattern"],C);const S=s(t,["properties"]);S!=null&&r(e,["properties"],S);const E=s(t,["propertyOrdering"]);E!=null&&r(e,["propertyOrdering"],E);const _=s(t,["required"]);_!=null&&r(e,["required"],_);const M=s(t,["title"]);M!=null&&r(e,["title"],M);const N=s(t,["type"]);return N!=null&&r(e,["type"],N),e}function TT(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&r(e,["category"],n);const i=s(t,["threshold"]);return i!=null&&r(e,["threshold"],i),e}function CT(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function _T(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function ST(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],_T(n)),e}function ET(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function xT(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],ET(n)),e}function AT(){return{}}function MT(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>CT(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],ST(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],xT(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],AT());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function PT(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function IT(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function RT(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],IT(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function wT(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],PT(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],RT(i)),e}function DT(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function pu(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],DT(n)),e}function NT(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],pu(i)),e}function kT(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NT(o))),r(e,["speakerVoiceConfigs"],i)}return e}function VT(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],pu(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],kT(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function LT(t){const e={},n=s(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&r(e,["thinkingBudget"],i),e}function FT(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],Dn(se(o)));const a=s(e,["temperature"]);a!=null&&r(i,["temperature"],a);const l=s(e,["topP"]);l!=null&&r(i,["topP"],l);const u=s(e,["topK"]);u!=null&&r(i,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&r(i,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&r(i,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const h=s(e,["responseLogprobs"]);h!=null&&r(i,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&r(i,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&r(i,["frequencyPenalty"],g);const y=s(e,["seed"]);y!=null&&r(i,["seed"],y);const T=s(e,["responseMimeType"]);T!=null&&r(i,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&r(i,["responseSchema"],vT(qt(v)));const C=s(e,["responseJsonSchema"]);if(C!=null&&r(i,["responseJsonSchema"],C),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(n!==void 0&&S!=null){let $=S;Array.isArray($)&&($=$.map(te=>TT(te))),r(n,["safetySettings"],$)}const E=s(e,["tools"]);if(n!==void 0&&E!=null){let $=Tt(E);Array.isArray($)&&($=$.map(te=>MT(vt(te)))),r(n,["tools"],$)}const _=s(e,["toolConfig"]);if(n!==void 0&&_!=null&&r(n,["toolConfig"],wT(_)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=s(e,["cachedContent"]);n!==void 0&&M!=null&&r(n,["cachedContent"],Pe(t,M));const N=s(e,["responseModalities"]);N!=null&&r(i,["responseModalities"],N);const I=s(e,["mediaResolution"]);I!=null&&r(i,["mediaResolution"],I);const w=s(e,["speechConfig"]);if(w!=null&&r(i,["speechConfig"],VT(ho(w))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=s(e,["thinkingConfig"]);return B!=null&&r(i,["thinkingConfig"],LT(B)),i}function na(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=de(o);Array.isArray(l)&&(l=l.map(u=>Dn(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["generationConfig"],FT(t,a,n)),n}function UT(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&r(e,["requests[]","taskType"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&r(e,["requests[]","title"],o);const a=s(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&r(e,["requests[]","outputDimensionality"],a),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);o!=null&&r(n,["requests[]","content"],Xl(t,o));const a=s(e,["config"]);a!=null&&r(n,["config"],UT(a,n));const l=s(e,["model"]);return l!==void 0&&r(n,["requests[]","model"],O(t,l)),n}function BT(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&r(e,["parameters","sampleCount"],i);const o=s(t,["aspectRatio"]);e!==void 0&&o!=null&&r(e,["parameters","aspectRatio"],o);const a=s(t,["guidanceScale"]);if(e!==void 0&&a!=null&&r(e,["parameters","guidanceScale"],a),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&r(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&r(e,["parameters","personGeneration"],u);const f=s(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&r(e,["parameters","includeSafetyAttributes"],f);const c=s(t,["includeRaiReason"]);e!==void 0&&c!=null&&r(e,["parameters","includeRaiReason"],c);const d=s(t,["language"]);e!==void 0&&d!=null&&r(e,["parameters","language"],d);const h=s(t,["outputMimeType"]);e!==void 0&&h!=null&&r(e,["parameters","outputOptions","mimeType"],h);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&r(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function GT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["config"]);return a!=null&&r(n,["config"],BT(a,n)),n}function qT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function $T(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&r(n,["_query","pageSize"],o);const a=s(e,["pageToken"]);n!==void 0&&a!=null&&r(n,["_query","pageToken"],a);const l=s(e,["filter"]);n!==void 0&&l!=null&&r(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],eu(t,u)),i}function JT(t,e){const n={},i=s(e,["config"]);return i!=null&&r(n,["config"],$T(t,i,n)),n}function HT(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&r(e,["description"],o);const a=s(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&r(e,["defaultCheckpointId"],a),n}function OT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],HT(o,n)),n}function WT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function KT(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function zT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=de(o);Array.isArray(l)&&(l=l.map(u=>Dn(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["config"],KT(a)),n}function YT(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&r(e,["bytesBase64Encoded"],Ie(n));const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function ZT(t,e){const n={},i=s(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&r(e,["parameters","sampleCount"],i),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(t,["durationSeconds"]);if(e!==void 0&&o!=null&&r(e,["parameters","durationSeconds"],o),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(t,["aspectRatio"]);if(e!==void 0&&a!=null&&r(e,["parameters","aspectRatio"],a),s(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=s(t,["personGeneration"]);if(e!==void 0&&l!=null&&r(e,["parameters","personGeneration"],l),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=s(t,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const f=s(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&r(e,["parameters","enhancePrompt"],f),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function XT(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["image"]);if(a!=null&&r(n,["instances[0]","image"],YT(a)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=s(e,["config"]);return l!=null&&r(n,["config"],ZT(l,n)),n}function QT(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function jT(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function eC(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function tC(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],QT(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],jT(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],eC(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function _t(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>tC(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function nC(t){const e={},n=s(t,["anyOf"]);n!=null&&r(e,["anyOf"],n);const i=s(t,["default"]);i!=null&&r(e,["default"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["enum"]);a!=null&&r(e,["enum"],a);const l=s(t,["example"]);l!=null&&r(e,["example"],l);const u=s(t,["format"]);u!=null&&r(e,["format"],u);const f=s(t,["items"]);f!=null&&r(e,["items"],f);const c=s(t,["maxItems"]);c!=null&&r(e,["maxItems"],c);const d=s(t,["maxLength"]);d!=null&&r(e,["maxLength"],d);const h=s(t,["maxProperties"]);h!=null&&r(e,["maxProperties"],h);const p=s(t,["maximum"]);p!=null&&r(e,["maximum"],p);const m=s(t,["minItems"]);m!=null&&r(e,["minItems"],m);const g=s(t,["minLength"]);g!=null&&r(e,["minLength"],g);const y=s(t,["minProperties"]);y!=null&&r(e,["minProperties"],y);const T=s(t,["minimum"]);T!=null&&r(e,["minimum"],T);const v=s(t,["nullable"]);v!=null&&r(e,["nullable"],v);const C=s(t,["pattern"]);C!=null&&r(e,["pattern"],C);const S=s(t,["properties"]);S!=null&&r(e,["properties"],S);const E=s(t,["propertyOrdering"]);E!=null&&r(e,["propertyOrdering"],E);const _=s(t,["required"]);_!=null&&r(e,["required"],_);const M=s(t,["title"]);M!=null&&r(e,["title"],M);const N=s(t,["type"]);return N!=null&&r(e,["type"],N),e}function iC(t){const e={},n=s(t,["featureSelectionPreference"]);return n!=null&&r(e,["featureSelectionPreference"],n),e}function oC(t){const e={},n=s(t,["method"]);n!=null&&r(e,["method"],n);const i=s(t,["category"]);i!=null&&r(e,["category"],i);const o=s(t,["threshold"]);return o!=null&&r(e,["threshold"],o),e}function sC(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&r(e,["description"],n);const i=s(t,["name"]);i!=null&&r(e,["name"],i);const o=s(t,["parameters"]);o!=null&&r(e,["parameters"],o);const a=s(t,["parametersJsonSchema"]);a!=null&&r(e,["parametersJsonSchema"],a);const l=s(t,["response"]);l!=null&&r(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&r(e,["responseJsonSchema"],u),e}function rC(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function aC(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],rC(n)),e}function lC(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function uC(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],lC(n)),e}function cC(){return{}}function fC(t){const e={},n=s(t,["apiKeyString"]);return n!=null&&r(e,["apiKeyString"],n),e}function dC(t){const e={},n=s(t,["apiKeyConfig"]);n!=null&&r(e,["apiKeyConfig"],fC(n));const i=s(t,["authType"]);i!=null&&r(e,["authType"],i);const o=s(t,["googleServiceAccountConfig"]);o!=null&&r(e,["googleServiceAccountConfig"],o);const a=s(t,["httpBasicAuthConfig"]);a!=null&&r(e,["httpBasicAuthConfig"],a);const l=s(t,["oauthConfig"]);l!=null&&r(e,["oauthConfig"],l);const u=s(t,["oidcConfig"]);return u!=null&&r(e,["oidcConfig"],u),e}function hC(t){const e={},n=s(t,["authConfig"]);return n!=null&&r(e,["authConfig"],dC(n)),e}function pC(){return{}}function mu(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>sC(p))),r(e,["functionDeclarations"],h)}const i=s(t,["retrieval"]);i!=null&&r(e,["retrieval"],i);const o=s(t,["googleSearch"]);o!=null&&r(e,["googleSearch"],aC(o));const a=s(t,["googleSearchRetrieval"]);a!=null&&r(e,["googleSearchRetrieval"],uC(a)),s(t,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],cC());const u=s(t,["googleMaps"]);u!=null&&r(e,["googleMaps"],hC(u)),s(t,["urlContext"])!=null&&r(e,["urlContext"],pC());const c=s(t,["codeExecution"]);c!=null&&r(e,["codeExecution"],c);const d=s(t,["computerUse"]);return d!=null&&r(e,["computerUse"],d),e}function mC(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["allowedFunctionNames"]);return i!=null&&r(e,["allowedFunctionNames"],i),e}function gC(t){const e={},n=s(t,["latitude"]);n!=null&&r(e,["latitude"],n);const i=s(t,["longitude"]);return i!=null&&r(e,["longitude"],i),e}function yC(t){const e={},n=s(t,["latLng"]);n!=null&&r(e,["latLng"],gC(n));const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function vC(t){const e={},n=s(t,["functionCallingConfig"]);n!=null&&r(e,["functionCallingConfig"],mC(n));const i=s(t,["retrievalConfig"]);return i!=null&&r(e,["retrievalConfig"],yC(i)),e}function TC(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function CC(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],TC(n)),e}function _C(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&r(e,["voiceConfig"],CC(n)),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=s(t,["languageCode"]);return i!=null&&r(e,["languageCode"],i),e}function SC(t){const e={},n=s(t,["includeThoughts"]);n!=null&&r(e,["includeThoughts"],n);const i=s(t,["thinkingBudget"]);return i!=null&&r(e,["thinkingBudget"],i),e}function EC(t,e,n){const i={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],_t(se(o)));const a=s(e,["temperature"]);a!=null&&r(i,["temperature"],a);const l=s(e,["topP"]);l!=null&&r(i,["topP"],l);const u=s(e,["topK"]);u!=null&&r(i,["topK"],u);const f=s(e,["candidateCount"]);f!=null&&r(i,["candidateCount"],f);const c=s(e,["maxOutputTokens"]);c!=null&&r(i,["maxOutputTokens"],c);const d=s(e,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const h=s(e,["responseLogprobs"]);h!=null&&r(i,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&r(i,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&r(i,["presencePenalty"],m);const g=s(e,["frequencyPenalty"]);g!=null&&r(i,["frequencyPenalty"],g);const y=s(e,["seed"]);y!=null&&r(i,["seed"],y);const T=s(e,["responseMimeType"]);T!=null&&r(i,["responseMimeType"],T);const v=s(e,["responseSchema"]);v!=null&&r(i,["responseSchema"],nC(qt(v)));const C=s(e,["responseJsonSchema"]);C!=null&&r(i,["responseJsonSchema"],C);const S=s(e,["routingConfig"]);S!=null&&r(i,["routingConfig"],S);const E=s(e,["modelSelectionConfig"]);E!=null&&r(i,["modelConfig"],iC(E));const _=s(e,["safetySettings"]);if(n!==void 0&&_!=null){let ue=_;Array.isArray(ue)&&(ue=ue.map(we=>oC(we))),r(n,["safetySettings"],ue)}const M=s(e,["tools"]);if(n!==void 0&&M!=null){let ue=Tt(M);Array.isArray(ue)&&(ue=ue.map(we=>mu(vt(we)))),r(n,["tools"],ue)}const N=s(e,["toolConfig"]);n!==void 0&&N!=null&&r(n,["toolConfig"],vC(N));const I=s(e,["labels"]);n!==void 0&&I!=null&&r(n,["labels"],I);const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&r(n,["cachedContent"],Pe(t,w));const B=s(e,["responseModalities"]);B!=null&&r(i,["responseModalities"],B);const $=s(e,["mediaResolution"]);$!=null&&r(i,["mediaResolution"],$);const te=s(e,["speechConfig"]);te!=null&&r(i,["speechConfig"],_C(ho(te)));const me=s(e,["audioTimestamp"]);me!=null&&r(i,["audioTimestamp"],me);const Re=s(e,["thinkingConfig"]);return Re!=null&&r(i,["thinkingConfig"],SC(Re)),i}function ia(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=de(o);Array.isArray(l)&&(l=l.map(u=>_t(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["generationConfig"],EC(t,a,n)),n}function xC(t,e){const n={},i=s(t,["taskType"]);e!==void 0&&i!=null&&r(e,["instances[]","task_type"],i);const o=s(t,["title"]);e!==void 0&&o!=null&&r(e,["instances[]","title"],o);const a=s(t,["outputDimensionality"]);e!==void 0&&a!=null&&r(e,["parameters","outputDimensionality"],a);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&r(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&r(e,["parameters","autoTruncate"],u),n}function AC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);o!=null&&r(n,["instances[]","content"],Xl(t,o));const a=s(e,["config"]);return a!=null&&r(n,["config"],xC(a,n)),n}function MC(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&r(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&r(e,["parameters","negativePrompt"],o);const a=s(t,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&r(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&r(e,["parameters","guidanceScale"],u);const f=s(t,["seed"]);e!==void 0&&f!=null&&r(e,["parameters","seed"],f);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&r(e,["parameters","safetySetting"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&r(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&r(e,["parameters","language"],m);const g=s(t,["outputMimeType"]);e!==void 0&&g!=null&&r(e,["parameters","outputOptions","mimeType"],g);const y=s(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&r(e,["parameters","outputOptions","compressionQuality"],y);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&r(e,["parameters","addWatermark"],T);const v=s(t,["enhancePrompt"]);return e!==void 0&&v!=null&&r(e,["parameters","enhancePrompt"],v),n}function PC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["config"]);return a!=null&&r(n,["config"],MC(a,n)),n}function Nn(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["gcsUri"],n);const i=s(t,["imageBytes"]);i!=null&&r(e,["bytesBase64Encoded"],Ie(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function IC(t){const e={},n=s(t,["maskMode"]);n!=null&&r(e,["maskMode"],n);const i=s(t,["segmentationClasses"]);i!=null&&r(e,["maskClasses"],i);const o=s(t,["maskDilation"]);return o!=null&&r(e,["dilation"],o),e}function RC(t){const e={},n=s(t,["controlType"]);n!=null&&r(e,["controlType"],n);const i=s(t,["enableControlImageComputation"]);return i!=null&&r(e,["computeControl"],i),e}function wC(t){const e={},n=s(t,["styleDescription"]);return n!=null&&r(e,["styleDescription"],n),e}function DC(t){const e={},n=s(t,["subjectType"]);n!=null&&r(e,["subjectType"],n);const i=s(t,["subjectDescription"]);return i!=null&&r(e,["subjectDescription"],i),e}function NC(t){const e={},n=s(t,["referenceImage"]);n!=null&&r(e,["referenceImage"],Nn(n));const i=s(t,["referenceId"]);i!=null&&r(e,["referenceId"],i);const o=s(t,["referenceType"]);o!=null&&r(e,["referenceType"],o);const a=s(t,["maskImageConfig"]);a!=null&&r(e,["maskImageConfig"],IC(a));const l=s(t,["controlImageConfig"]);l!=null&&r(e,["controlImageConfig"],RC(l));const u=s(t,["styleImageConfig"]);u!=null&&r(e,["styleImageConfig"],wC(u));const f=s(t,["subjectImageConfig"]);return f!=null&&r(e,["subjectImageConfig"],DC(f)),e}function kC(t,e){const n={},i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&r(e,["parameters","storageUri"],i);const o=s(t,["negativePrompt"]);e!==void 0&&o!=null&&r(e,["parameters","negativePrompt"],o);const a=s(t,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&r(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&r(e,["parameters","guidanceScale"],u);const f=s(t,["seed"]);e!==void 0&&f!=null&&r(e,["parameters","seed"],f);const c=s(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&r(e,["parameters","safetySetting"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&r(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&r(e,["parameters","language"],m);const g=s(t,["outputMimeType"]);e!==void 0&&g!=null&&r(e,["parameters","outputOptions","mimeType"],g);const y=s(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&r(e,["parameters","outputOptions","compressionQuality"],y);const T=s(t,["editMode"]);e!==void 0&&T!=null&&r(e,["parameters","editMode"],T);const v=s(t,["baseSteps"]);return e!==void 0&&v!=null&&r(e,["parameters","editConfig","baseSteps"],v),n}function VC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["referenceImages"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>NC(f))),r(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&r(n,["config"],kC(l,n)),n}function LC(t,e){const n={},i=s(t,["includeRaiReason"]);e!==void 0&&i!=null&&r(e,["parameters","includeRaiReason"],i);const o=s(t,["outputMimeType"]);e!==void 0&&o!=null&&r(e,["parameters","outputOptions","mimeType"],o);const a=s(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&r(e,["parameters","outputOptions","compressionQuality"],a);const l=s(t,["enhanceInputImage"]);e!==void 0&&l!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],l);const u=s(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const f=s(t,["numberOfImages"]);e!==void 0&&f!=null&&r(e,["parameters","sampleCount"],f);const c=s(t,["mode"]);return e!==void 0&&c!=null&&r(e,["parameters","mode"],c),n}function FC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["image"]);o!=null&&r(n,["instances[0]","image"],Nn(o));const a=s(e,["upscaleFactor"]);a!=null&&r(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=s(e,["config"]);return l!=null&&r(n,["config"],LC(l,n)),n}function UC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function bC(t,e,n){const i={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&r(n,["_query","pageSize"],o);const a=s(e,["pageToken"]);n!==void 0&&a!=null&&r(n,["_query","pageToken"],a);const l=s(e,["filter"]);n!==void 0&&l!=null&&r(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],eu(t,u)),i}function BC(t,e){const n={},i=s(e,["config"]);return i!=null&&r(n,["config"],bC(t,i,n)),n}function GC(t,e){const n={},i=s(t,["displayName"]);e!==void 0&&i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);e!==void 0&&o!=null&&r(e,["description"],o);const a=s(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&r(e,["defaultCheckpointId"],a),n}function qC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],GC(o,n)),n}function $C(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","name"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],o),n}function JC(t,e){const n={},i=s(t,["systemInstruction"]);e!==void 0&&i!=null&&r(e,["systemInstruction"],_t(se(i)));const o=s(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>mu(u))),r(e,["tools"],l)}const a=s(t,["generationConfig"]);return e!==void 0&&a!=null&&r(e,["generationConfig"],a),n}function HC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=de(o);Array.isArray(l)&&(l=l.map(u=>_t(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["config"],JC(a,n)),n}function OC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["contents"]);if(o!=null){let l=de(o);Array.isArray(l)&&(l=l.map(u=>_t(u))),r(n,["contents"],l)}const a=s(e,["config"]);return a!=null&&r(n,["config"],a),n}function WC(t){const e={},n=s(t,["uri"]);n!=null&&r(e,["gcsUri"],n);const i=s(t,["videoBytes"]);i!=null&&r(e,["bytesBase64Encoded"],Ie(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function KC(t,e){const n={},i=s(t,["numberOfVideos"]);e!==void 0&&i!=null&&r(e,["parameters","sampleCount"],i);const o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&r(e,["parameters","storageUri"],o);const a=s(t,["fps"]);e!==void 0&&a!=null&&r(e,["parameters","fps"],a);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&r(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&r(e,["parameters","seed"],u);const f=s(t,["aspectRatio"]);e!==void 0&&f!=null&&r(e,["parameters","aspectRatio"],f);const c=s(t,["resolution"]);e!==void 0&&c!=null&&r(e,["parameters","resolution"],c);const d=s(t,["personGeneration"]);e!==void 0&&d!=null&&r(e,["parameters","personGeneration"],d);const h=s(t,["pubsubTopic"]);e!==void 0&&h!=null&&r(e,["parameters","pubsubTopic"],h);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&r(e,["parameters","negativePrompt"],p);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&r(e,["parameters","enhancePrompt"],m);const g=s(t,["generateAudio"]);e!==void 0&&g!=null&&r(e,["parameters","generateAudio"],g);const y=s(t,["lastFrame"]);e!==void 0&&y!=null&&r(e,["instances[0]","lastFrame"],Nn(y));const T=s(t,["compressionQuality"]);return e!==void 0&&T!=null&&r(e,["parameters","compressionQuality"],T),n}function zC(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["_url","model"],O(t,i));const o=s(e,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const a=s(e,["image"]);a!=null&&r(n,["instances[0]","image"],Nn(a));const l=s(e,["video"]);l!=null&&r(n,["instances[0]","video"],WC(l));const u=s(e,["config"]);return u!=null&&r(n,["config"],KC(u,n)),n}function YC(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function ZC(t){const e={},n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function XC(t){const e={},n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function QC(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],YC(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],ZC(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],XC(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function jC(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>QC(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function e_(t){const e={},n=s(t,["citationSources"]);return n!=null&&r(e,["citations"],n),e}function t_(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function n_(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>t_(o))),r(e,["urlMetadata"],i)}return e}function i_(t){const e={},n=s(t,["content"]);n!=null&&r(e,["content"],jC(n));const i=s(t,["citationMetadata"]);i!=null&&r(e,["citationMetadata"],e_(i));const o=s(t,["tokenCount"]);o!=null&&r(e,["tokenCount"],o);const a=s(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=s(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],n_(l));const u=s(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=s(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&r(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const h=s(t,["safetyRatings"]);return h!=null&&r(e,["safetyRatings"],h),e}function oa(t){const e={},n=s(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>i_(u))),r(e,["candidates"],l)}const i=s(t,["modelVersion"]);i!=null&&r(e,["modelVersion"],i);const o=s(t,["promptFeedback"]);o!=null&&r(e,["promptFeedback"],o);const a=s(t,["usageMetadata"]);return a!=null&&r(e,["usageMetadata"],a),e}function o_(t){const e={},n=s(t,["values"]);return n!=null&&r(e,["values"],n),e}function s_(){return{}}function r_(t){const e={},n=s(t,["embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>o_(a))),r(e,["embeddings"],o)}return s(t,["metadata"])!=null&&r(e,["metadata"],s_()),e}function a_(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&r(e,["imageBytes"],Ie(n));const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function gu(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&r(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&r(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&r(e,["contentType"],o),e}function l_(t){const e={},n=s(t,["_self"]);n!=null&&r(e,["image"],a_(n));const i=s(t,["raiFilteredReason"]);i!=null&&r(e,["raiFilteredReason"],i);const o=s(t,["_self"]);return o!=null&&r(e,["safetyAttributes"],gu(o)),e}function u_(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>l_(a))),r(e,["generatedImages"],o)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&r(e,["positivePromptSafetyAttributes"],gu(i)),e}function c_(t){const e={},n=s(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&r(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&r(e,["updateTime"],o),e}function Pi(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["version"]);a!=null&&r(e,["version"],a);const l=s(t,["_self"]);l!=null&&r(e,["tunedModelInfo"],c_(l));const u=s(t,["inputTokenLimit"]);u!=null&&r(e,["inputTokenLimit"],u);const f=s(t,["outputTokenLimit"]);f!=null&&r(e,["outputTokenLimit"],f);const c=s(t,["supportedGenerationMethods"]);return c!=null&&r(e,["supportedActions"],c),e}function f_(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["_self"]);if(i!=null){let o=tu(i);Array.isArray(o)&&(o=o.map(a=>Pi(a))),r(e,["models"],o)}return e}function d_(){return{}}function h_(t){const e={},n=s(t,["totalTokens"]);n!=null&&r(e,["totalTokens"],n);const i=s(t,["cachedContentTokenCount"]);return i!=null&&r(e,["cachedContentTokenCount"],i),e}function p_(t){const e={},n=s(t,["video","uri"]);n!=null&&r(e,["uri"],n);const i=s(t,["video","encodedVideo"]);i!=null&&r(e,["videoBytes"],Ie(i));const o=s(t,["encoding"]);return o!=null&&r(e,["mimeType"],o),e}function m_(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],p_(n)),e}function g_(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>m_(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function y_(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response","generateVideoResponse"]);return l!=null&&r(e,["response"],g_(l)),e}function v_(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function T_(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["data"]);i!=null&&r(e,["data"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function C_(t){const e={},n=s(t,["displayName"]);n!=null&&r(e,["displayName"],n);const i=s(t,["fileUri"]);i!=null&&r(e,["fileUri"],i);const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function __(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],v_(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],T_(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],C_(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function S_(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>__(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function E_(t){const e={},n=s(t,["citations"]);return n!=null&&r(e,["citations"],n),e}function x_(t){const e={},n=s(t,["retrievedUrl"]);n!=null&&r(e,["retrievedUrl"],n);const i=s(t,["urlRetrievalStatus"]);return i!=null&&r(e,["urlRetrievalStatus"],i),e}function A_(t){const e={},n=s(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>x_(o))),r(e,["urlMetadata"],i)}return e}function M_(t){const e={},n=s(t,["content"]);n!=null&&r(e,["content"],S_(n));const i=s(t,["citationMetadata"]);i!=null&&r(e,["citationMetadata"],E_(i));const o=s(t,["finishMessage"]);o!=null&&r(e,["finishMessage"],o);const a=s(t,["finishReason"]);a!=null&&r(e,["finishReason"],a);const l=s(t,["urlContextMetadata"]);l!=null&&r(e,["urlContextMetadata"],A_(l));const u=s(t,["avgLogprobs"]);u!=null&&r(e,["avgLogprobs"],u);const f=s(t,["groundingMetadata"]);f!=null&&r(e,["groundingMetadata"],f);const c=s(t,["index"]);c!=null&&r(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&r(e,["logprobsResult"],d);const h=s(t,["safetyRatings"]);return h!=null&&r(e,["safetyRatings"],h),e}function sa(t){const e={},n=s(t,["candidates"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>M_(c))),r(e,["candidates"],f)}const i=s(t,["createTime"]);i!=null&&r(e,["createTime"],i);const o=s(t,["responseId"]);o!=null&&r(e,["responseId"],o);const a=s(t,["modelVersion"]);a!=null&&r(e,["modelVersion"],a);const l=s(t,["promptFeedback"]);l!=null&&r(e,["promptFeedback"],l);const u=s(t,["usageMetadata"]);return u!=null&&r(e,["usageMetadata"],u),e}function P_(t){const e={},n=s(t,["truncated"]);n!=null&&r(e,["truncated"],n);const i=s(t,["token_count"]);return i!=null&&r(e,["tokenCount"],i),e}function I_(t){const e={},n=s(t,["values"]);n!=null&&r(e,["values"],n);const i=s(t,["statistics"]);return i!=null&&r(e,["statistics"],P_(i)),e}function R_(t){const e={},n=s(t,["billableCharacterCount"]);return n!=null&&r(e,["billableCharacterCount"],n),e}function w_(t){const e={},n=s(t,["predictions[]","embeddings"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>I_(a))),r(e,["embeddings"],o)}const i=s(t,["metadata"]);return i!=null&&r(e,["metadata"],R_(i)),e}function D_(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["gcsUri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&r(e,["imageBytes"],Ie(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function yu(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&r(e,["categories"],n);const i=s(t,["safetyAttributes","scores"]);i!=null&&r(e,["scores"],i);const o=s(t,["contentType"]);return o!=null&&r(e,["contentType"],o),e}function mo(t){const e={},n=s(t,["_self"]);n!=null&&r(e,["image"],D_(n));const i=s(t,["raiFilteredReason"]);i!=null&&r(e,["raiFilteredReason"],i);const o=s(t,["_self"]);o!=null&&r(e,["safetyAttributes"],yu(o));const a=s(t,["prompt"]);return a!=null&&r(e,["enhancedPrompt"],a),e}function N_(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>mo(a))),r(e,["generatedImages"],o)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&r(e,["positivePromptSafetyAttributes"],yu(i)),e}function k_(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mo(o))),r(e,["generatedImages"],i)}return e}function V_(t){const e={},n=s(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mo(o))),r(e,["generatedImages"],i)}return e}function L_(t){const e={},n=s(t,["endpoint"]);n!=null&&r(e,["name"],n);const i=s(t,["deployedModelId"]);return i!=null&&r(e,["deployedModelId"],i),e}function F_(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["createTime"]);i!=null&&r(e,["createTime"],i);const o=s(t,["updateTime"]);return o!=null&&r(e,["updateTime"],o),e}function U_(t){const e={},n=s(t,["checkpointId"]);n!=null&&r(e,["checkpointId"],n);const i=s(t,["epoch"]);i!=null&&r(e,["epoch"],i);const o=s(t,["step"]);return o!=null&&r(e,["step"],o),e}function Ii(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["displayName"]);i!=null&&r(e,["displayName"],i);const o=s(t,["description"]);o!=null&&r(e,["description"],o);const a=s(t,["versionId"]);a!=null&&r(e,["version"],a);const l=s(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>L_(p))),r(e,["endpoints"],h)}const u=s(t,["labels"]);u!=null&&r(e,["labels"],u);const f=s(t,["_self"]);f!=null&&r(e,["tunedModelInfo"],F_(f));const c=s(t,["defaultCheckpointId"]);c!=null&&r(e,["defaultCheckpointId"],c);const d=s(t,["checkpoints"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>U_(p))),r(e,["checkpoints"],h)}return e}function b_(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["_self"]);if(i!=null){let o=tu(i);Array.isArray(o)&&(o=o.map(a=>Ii(a))),r(e,["models"],o)}return e}function B_(){return{}}function G_(t){const e={},n=s(t,["totalTokens"]);return n!=null&&r(e,["totalTokens"],n),e}function q_(t){const e={},n=s(t,["tokensInfo"]);return n!=null&&r(e,["tokensInfo"],n),e}function $_(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&r(e,["videoBytes"],Ie(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function J_(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],$_(n)),e}function H_(t){const e={},n=s(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>J_(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function O_(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response"]);return l!=null&&r(e,["response"],H_(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_="Content-Type",K_="X-Server-Timeout",z_="User-Agent",Ri="x-goog-api-client",Y_="1.8.0",Z_=`google-genai-sdk/${Y_}`,X_="v1beta1",Q_="v1beta",ra=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class j_{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:X_,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Q_,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))o.searchParams.append(l,String(u));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))typeof a=="object"?i[o]=Object.assign(Object.assign({},i[o]),a):a!==void 0&&(i[o]=a);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>o.abort(),n.timeout),i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=a}return n&&n.extraBody!==null&&eS(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await aa(o),new _i(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await aa(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return at(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield W(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(f);try{const h=JSON.parse(c);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),m=p.status,g=p.code,y=`got status: ${m}. ${JSON.stringify(h)}`;if(g>=400&&g<600)throw new wn({message:y,status:g})}}catch(h){if(h.name==="ApiError")throw h}l+=c;let d=l.match(ra);for(;d;){const h=d[1];try{const p=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield W(new _i(p)),l=l.slice(d[0].length),d=l.match(ra)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=Z_+" "+this.clientOptions.userAgentExtra;return e[z_]=n,e[Ri]=n,e[W_]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))n.append(i,o);e.timeout&&e.timeout>0&&n.append(K_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,l=await a.stat(e);o.sizeBytes=String(l.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const f=await this.fetchUploadUrl(o,n);return a.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let o={};n!=null&&n.httpOptions?o=n.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},l=await this.request({path:V("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function aa(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new wn({message:o,status:n}):new Error(o)}}function eS(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,l){const u=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const c=l[f],d=u[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?u[f]=i(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),u[f]=c)}return u}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tS="mcp_used/unknown";function vu(t){for(const e of t)if(go(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Tu(t){var e;const n=(e=t[Ri])!==null&&e!==void 0?e:"";t[Ri]=(n+` ${tS}`).trimStart()}function nS(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>go(o)))!==null&&i!==void 0?i:!1}function iS(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>!go(o)))!==null&&i!==void 0?i:!1}function go(t){return t!==null&&typeof t=="object"&&t instanceof yo}function oS(t,e=100){return at(this,arguments,function*(){let i,o=0;for(;o<e;){const a=yield W(t.listTools({cursor:i}));for(const l of a.tools)yield yield W(l),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class yo{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new yo(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const a={},l=[];for(const d of this.mcpClients)try{for(var u=!0,f=(n=void 0,Vt(oS(d))),c;c=await f.next(),e=c.done,!e;u=!0){o=c.value,u=!1;const h=o;l.push(h);const p=h.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=d}}catch(h){n={error:h}}finally{try{!u&&!e&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Xp(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await o.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sS(t,e,n){const i=new Gp;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data);const a=hT(o);Object.assign(i,a),e(i)}class rS{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=uS(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const d=new Promise(S=>{c=S}),h=e.callbacks,p=function(){c({})},m=this.apiClient,g={onopen:p,onmessage:S=>{sS(m,h.onmessage,S)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(S){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(S){}},y=this.webSocketFactory.create(f,lS(l),g);y.connect(),await d;const T=O(this.apiClient,e.model),v=du({model:T}),C=Mi({setup:v});return y.send(JSON.stringify(C)),new aS(y,this.apiClient)}}class aS{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Pv(e),i=hu(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Iv(e),i=Mi(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Mi({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(st.PLAY)}pause(){this.sendPlaybackControl(st.PAUSE)}stop(){this.sendPlaybackControl(st.STOP)}resetContext(){this.sendPlaybackControl(st.RESET_CONTEXT)}close(){this.conn.close()}}function lS(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function uS(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fS(t,e,n){const i=new Bp;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(t.isVertexAI()){const l=oT(a);Object.assign(i,l)}else{const l=iT(a);Object.assign(i,l)}e(i)}class dS{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new rS(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,a,l,u;const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const h=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&vu(e.config.tools)&&Tu(h);const p=gS(h);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const w=this.apiClient.getApiKey();let B="BidiGenerateContent",$="key";w!=null&&w.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),B="BidiGenerateContentConstrained",$="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${B}?${$}=${w}`}let m=()=>{};const g=new Promise(w=>{m=w}),y=e.callbacks,T=function(){var w;(w=y==null?void 0:y.onopen)===null||w===void 0||w.call(y),m({})},v=this.apiClient,C={onopen:T,onmessage:w=>{fS(v,y.onmessage,w)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(w){},onclose:(i=y==null?void 0:y.onclose)!==null&&i!==void 0?i:function(w){}},S=this.webSocketFactory.create(d,mS(p),C);S.connect(),await g;let E=O(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const w=this.apiClient.getProject(),B=this.apiClient.getLocation();E=`projects/${w}/locations/${B}/`+E}let _={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[_n.AUDIO]}:e.config.responseModalities=[_n.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],N=[];for(const w of M)if(this.isCallableTool(w)){const B=w;N.push(await B.tool())}else N.push(w);N.length>0&&(e.config.tools=N);const I={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_=Cv(this.apiClient,I):_=Tv(this.apiClient,I),delete _.config,S.send(JSON.stringify(_)),new pS(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const hS={turnComplete:!0};class pS{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=de(n.turns),e.isVertexAI()?i=i.map(o=>_t(o)):i=i.map(o=>Dn(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(cS)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},hS),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Mv(e)}:n={realtimeInput:Av(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function mS(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function gS(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const la=10;function ua(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(an(l)){o=!0;break}if(!o)return!0;const a=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function an(t){return"callTool"in t&&typeof t.callTool=="function"}function ca(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yS extends Xe{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,a,l,u;const f=await this.processParamsForMcpUsage(n);if(!nS(n)||ua(n.config))return await this.generateContentInternal(f);if(iS(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const h=de(f.contents),p=(a=(o=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:la;let m=0;for(;m<p&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const g=c.candidates[0].content,y=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(an(T)){const C=await T.callTool(c.functionCalls);y.push(...C)}m++,d={role:"user",parts:y},f.contents=de(f.contents),f.contents.push(g),f.contents.push(d),ca(f.config)&&(h.push(g),h.push(d))}return ca(f.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{if(ua(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let a;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((o=f==null?void 0:f.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a}:u={generatedImages:l},u}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Wt(Ye.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var n,i,o;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const l=await Promise.all(a.map(async f=>an(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&vu(e.config.tools)){const f=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Tu(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,i,o;const a=new Map;for(const l of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(an(l)){const u=l,f=await u.tool();for(const c of(o=f.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,u)}}return a}async processAfcStream(e){var n,i,o;const a=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:la;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return function(c,d,h){var p,m;return at(this,arguments,function*(){for(var g,y,T,v;u<a;){l&&(u++,l=!1);const _=yield W(c.processParamsForMcpUsage(h)),M=yield W(c.generateContentStreamInternal(_)),N=[],I=[];try{for(var C=!0,S=(y=void 0,Vt(M)),E;E=yield W(S.next()),g=E.done,!g;C=!0){v=E.value,C=!1;const w=v;if(yield yield W(w),w.candidates&&(!((p=w.candidates[0])===null||p===void 0)&&p.content)){I.push(w.candidates[0].content);for(const B of(m=w.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(u<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(B.functionCall.name)){const $=yield W(d.get(B.functionCall.name).callTool([B.functionCall]));N.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(w){y={error:w}}finally{try{!C&&!g&&(T=S.return)&&(yield W(T.call(S)))}finally{if(y)throw y.error}}if(N.length>0){l=!0;const w=new xt;w.candidates=[{content:{role:"user",parts:N}}],yield yield W(w);const B=[];B.push(...I),B.push({role:"user",parts:N});const $=de(h.contents).concat(B);h.contents=$}else break}})}(this,f,e)}async generateContentInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ia(this.apiClient,e);return u=V("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=sa(d),p=new xt;return Object.assign(p,h),p})}else{const c=na(this.apiClient,e);return u=V("{model}:generateContent",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=oa(d),p=new xt;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=ia(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return at(this,arguments,function*(){var p,m,g,y;try{for(var T=!0,v=Vt(h),C;C=yield W(v.next()),p=C.done,!p;T=!0){y=C.value,T=!1;const E=sa(yield W(y.json())),_=new xt;Object.assign(_,E),yield yield W(_)}}catch(S){m={error:S}}finally{try{!T&&!p&&(g=v.return)&&(yield W(g.call(v)))}finally{if(m)throw m.error}}})})}else{const c=na(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(h){return at(this,arguments,function*(){var p,m,g,y;try{for(var T=!0,v=Vt(h),C;C=yield W(v.next()),p=C.done,!p;T=!0){y=C.value,T=!1;const E=oa(yield W(y.json())),_=new xt;Object.assign(_,E),yield yield W(_)}}catch(S){m={error:S}}finally{try{!T&&!p&&(g=v.return)&&(yield W(g.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=AC(this.apiClient,e);return u=V("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=w_(d),p=new Lr;return Object.assign(p,h),p})}else{const c=bT(this.apiClient,e);return u=V("{model}:batchEmbedContents",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=r_(d),p=new Lr;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=PC(this.apiClient,e);return u=V("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=N_(d),p=new Fr;return Object.assign(p,h),p})}else{const c=GT(this.apiClient,e);return u=V("{model}:predict",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=u_(d),p=new Fr;return Object.assign(p,h),p})}}async editImageInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=VC(this.apiClient,e);return a=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=k_(f),d=new kp;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=FC(this.apiClient,e);return a=V("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=V_(f),d=new Vp;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=UC(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Ii(d))}else{const c=qT(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Pi(d))}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=BC(this.apiClient,e);return u=V("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=b_(d),p=new Ur;return Object.assign(p,h),p})}else{const c=JT(this.apiClient,e);return u=V("{models_url}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=f_(d),p=new Ur;return Object.assign(p,h),p})}}async update(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=qC(this.apiClient,e);return u=V("{model}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Ii(d))}else{const c=OT(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>Pi(d))}}async delete(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=$C(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(()=>{const d=B_(),h=new br;return Object.assign(h,d),h})}else{const c=WT(this.apiClient,e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(()=>{const d=d_(),h=new br;return Object.assign(h,d),h})}}async countTokens(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=HC(this.apiClient,e);return u=V("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=G_(d),p=new Br;return Object.assign(p,h),p})}else{const c=zT(this.apiClient,e);return u=V("{model}:countTokens",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=h_(d),p=new Br;return Object.assign(p,h),p})}}async computeTokens(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=OC(this.apiClient,e);return a=V("{model}:computeTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>{const c=q_(f),d=new Lp;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=zC(this.apiClient,e);return u=V("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>O_(d))}else{const c=XT(this.apiClient,e);return u=V("{model}:predictLongRunning",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>y_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vS(t){const e={},n=s(t,["operationName"]);n!=null&&r(e,["_url","operationName"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function TS(t){const e={},n=s(t,["operationName"]);n!=null&&r(e,["_url","operationName"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function CS(t){const e={},n=s(t,["operationName"]);n!=null&&r(e,["operationName"],n);const i=s(t,["resourceName"]);i!=null&&r(e,["_url","resourceName"],i);const o=s(t,["config"]);return o!=null&&r(e,["config"],o),e}function _S(t){const e={},n=s(t,["video","uri"]);n!=null&&r(e,["uri"],n);const i=s(t,["video","encodedVideo"]);i!=null&&r(e,["videoBytes"],Ie(i));const o=s(t,["encoding"]);return o!=null&&r(e,["mimeType"],o),e}function SS(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],_S(n)),e}function ES(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>SS(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function xS(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response","generateVideoResponse"]);return l!=null&&r(e,["response"],ES(l)),e}function AS(t){const e={},n=s(t,["gcsUri"]);n!=null&&r(e,["uri"],n);const i=s(t,["bytesBase64Encoded"]);i!=null&&r(e,["videoBytes"],Ie(i));const o=s(t,["mimeType"]);return o!=null&&r(e,["mimeType"],o),e}function MS(t){const e={},n=s(t,["_self"]);return n!=null&&r(e,["video"],AS(n)),e}function PS(t){const e={},n=s(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>MS(l))),r(e,["generatedVideos"],a)}const i=s(t,["raiMediaFilteredCount"]);i!=null&&r(e,["raiMediaFilteredCount"],i);const o=s(t,["raiMediaFilteredReasons"]);return o!=null&&r(e,["raiMediaFilteredReasons"],o),e}function fa(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);a!=null&&r(e,["error"],a);const l=s(t,["response"]);return l!=null&&r(e,["response"],PS(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IS extends Xe{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;return i&&"httpOptions"in i&&(a=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=TS(e);return u=V("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>fa(d))}else{const c=vS(e);return u=V("{operationName}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>xS(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=CS(e);return a=V("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>fa(f))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(t){const e={},n=s(t,["voiceName"]);return n!=null&&r(e,["voiceName"],n),e}function Cu(t){const e={},n=s(t,["prebuiltVoiceConfig"]);return n!=null&&r(e,["prebuiltVoiceConfig"],RS(n)),e}function wS(t){const e={},n=s(t,["speaker"]);n!=null&&r(e,["speaker"],n);const i=s(t,["voiceConfig"]);return i!=null&&r(e,["voiceConfig"],Cu(i)),e}function DS(t){const e={},n=s(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wS(o))),r(e,["speakerVoiceConfigs"],i)}return e}function NS(t){const e={},n=s(t,["voiceConfig"]);n!=null&&r(e,["voiceConfig"],Cu(n));const i=s(t,["multiSpeakerVoiceConfig"]);i!=null&&r(e,["multiSpeakerVoiceConfig"],DS(i));const o=s(t,["languageCode"]);return o!=null&&r(e,["languageCode"],o),e}function kS(t){const e={},n=s(t,["fps"]);n!=null&&r(e,["fps"],n);const i=s(t,["endOffset"]);i!=null&&r(e,["endOffset"],i);const o=s(t,["startOffset"]);return o!=null&&r(e,["startOffset"],o),e}function VS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&r(e,["data"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function LS(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&r(e,["fileUri"],n);const i=s(t,["mimeType"]);return i!=null&&r(e,["mimeType"],i),e}function FS(t){const e={},n=s(t,["videoMetadata"]);n!=null&&r(e,["videoMetadata"],kS(n));const i=s(t,["thought"]);i!=null&&r(e,["thought"],i);const o=s(t,["inlineData"]);o!=null&&r(e,["inlineData"],VS(o));const a=s(t,["fileData"]);a!=null&&r(e,["fileData"],LS(a));const l=s(t,["thoughtSignature"]);l!=null&&r(e,["thoughtSignature"],l);const u=s(t,["codeExecutionResult"]);u!=null&&r(e,["codeExecutionResult"],u);const f=s(t,["executableCode"]);f!=null&&r(e,["executableCode"],f);const c=s(t,["functionCall"]);c!=null&&r(e,["functionCall"],c);const d=s(t,["functionResponse"]);d!=null&&r(e,["functionResponse"],d);const h=s(t,["text"]);return h!=null&&r(e,["text"],h),e}function US(t){const e={},n=s(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>FS(a))),r(e,["parts"],o)}const i=s(t,["role"]);return i!=null&&r(e,["role"],i),e}function bS(t){const e={},n=s(t,["behavior"]);n!=null&&r(e,["behavior"],n);const i=s(t,["description"]);i!=null&&r(e,["description"],i);const o=s(t,["name"]);o!=null&&r(e,["name"],o);const a=s(t,["parameters"]);a!=null&&r(e,["parameters"],a);const l=s(t,["parametersJsonSchema"]);l!=null&&r(e,["parametersJsonSchema"],l);const u=s(t,["response"]);u!=null&&r(e,["response"],u);const f=s(t,["responseJsonSchema"]);return f!=null&&r(e,["responseJsonSchema"],f),e}function BS(t){const e={},n=s(t,["startTime"]);n!=null&&r(e,["startTime"],n);const i=s(t,["endTime"]);return i!=null&&r(e,["endTime"],i),e}function GS(t){const e={},n=s(t,["timeRangeFilter"]);return n!=null&&r(e,["timeRangeFilter"],BS(n)),e}function qS(t){const e={},n=s(t,["mode"]);n!=null&&r(e,["mode"],n);const i=s(t,["dynamicThreshold"]);return i!=null&&r(e,["dynamicThreshold"],i),e}function $S(t){const e={},n=s(t,["dynamicRetrievalConfig"]);return n!=null&&r(e,["dynamicRetrievalConfig"],qS(n)),e}function JS(){return{}}function HS(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(c=>bS(c))),r(e,["functionDeclarations"],f)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(t,["googleSearch"]);i!=null&&r(e,["googleSearch"],GS(i));const o=s(t,["googleSearchRetrieval"]);if(o!=null&&r(e,["googleSearchRetrieval"],$S(o)),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(t,["urlContext"])!=null&&r(e,["urlContext"],JS());const l=s(t,["codeExecution"]);l!=null&&r(e,["codeExecution"],l);const u=s(t,["computerUse"]);return u!=null&&r(e,["computerUse"],u),e}function OS(t){const e={},n=s(t,["handle"]);if(n!=null&&r(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function da(){return{}}function WS(t){const e={},n=s(t,["disabled"]);n!=null&&r(e,["disabled"],n);const i=s(t,["startOfSpeechSensitivity"]);i!=null&&r(e,["startOfSpeechSensitivity"],i);const o=s(t,["endOfSpeechSensitivity"]);o!=null&&r(e,["endOfSpeechSensitivity"],o);const a=s(t,["prefixPaddingMs"]);a!=null&&r(e,["prefixPaddingMs"],a);const l=s(t,["silenceDurationMs"]);return l!=null&&r(e,["silenceDurationMs"],l),e}function KS(t){const e={},n=s(t,["automaticActivityDetection"]);n!=null&&r(e,["automaticActivityDetection"],WS(n));const i=s(t,["activityHandling"]);i!=null&&r(e,["activityHandling"],i);const o=s(t,["turnCoverage"]);return o!=null&&r(e,["turnCoverage"],o),e}function zS(t){const e={},n=s(t,["targetTokens"]);return n!=null&&r(e,["targetTokens"],n),e}function YS(t){const e={},n=s(t,["triggerTokens"]);n!=null&&r(e,["triggerTokens"],n);const i=s(t,["slidingWindow"]);return i!=null&&r(e,["slidingWindow"],zS(i)),e}function ZS(t){const e={},n=s(t,["proactiveAudio"]);return n!=null&&r(e,["proactiveAudio"],n),e}function XS(t,e){const n={},i=s(t,["generationConfig"]);e!==void 0&&i!=null&&r(e,["setup","generationConfig"],i);const o=s(t,["responseModalities"]);e!==void 0&&o!=null&&r(e,["setup","generationConfig","responseModalities"],o);const a=s(t,["temperature"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig","temperature"],a);const l=s(t,["topP"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","topK"],u);const f=s(t,["maxOutputTokens"]);e!==void 0&&f!=null&&r(e,["setup","generationConfig","maxOutputTokens"],f);const c=s(t,["mediaResolution"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","mediaResolution"],c);const d=s(t,["seed"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","seed"],d);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","speechConfig"],NS(po(h)));const p=s(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],p);const m=s(t,["systemInstruction"]);e!==void 0&&m!=null&&r(e,["setup","systemInstruction"],US(se(m)));const g=s(t,["tools"]);if(e!==void 0&&g!=null){let _=Tt(g);Array.isArray(_)&&(_=_.map(M=>HS(vt(M)))),r(e,["setup","tools"],_)}const y=s(t,["sessionResumption"]);e!==void 0&&y!=null&&r(e,["setup","sessionResumption"],OS(y));const T=s(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&r(e,["setup","inputAudioTranscription"],da());const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&r(e,["setup","outputAudioTranscription"],da());const C=s(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&r(e,["setup","realtimeInputConfig"],KS(C));const S=s(t,["contextWindowCompression"]);e!==void 0&&S!=null&&r(e,["setup","contextWindowCompression"],YS(S));const E=s(t,["proactivity"]);return e!==void 0&&E!=null&&r(e,["setup","proactivity"],ZS(E)),n}function QS(t,e){const n={},i=s(e,["model"]);i!=null&&r(n,["setup","model"],O(t,i));const o=s(e,["config"]);return o!=null&&r(n,["config"],XS(o,n)),n}function jS(t,e,n){const i={},o=s(e,["expireTime"]);n!==void 0&&o!=null&&r(n,["expireTime"],o);const a=s(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&r(n,["newSessionExpireTime"],a);const l=s(e,["uses"]);n!==void 0&&l!=null&&r(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&r(n,["bidiGenerateContentSetup"],QS(t,u));const f=s(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&r(n,["fieldMask"],f),i}function eE(t,e){const n={},i=s(e,["config"]);return i!=null&&r(n,["config"],jS(t,i,n)),n}function tE(t){const e={},n=s(t,["name"]);return n!=null&&r(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nE(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(a=>`${n}.${a}`);e.push(...o)}else e.push(n)}return e.join(",")}function iE(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const a=nE(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const f=[];a&&f.push(a),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class oE extends Xe{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=eE(this.apiClient,e);a=V("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=iE(u,e.config);return o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>tE(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function rE(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&r(e,["_query","pageToken"],o);const a=s(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function aE(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],rE(n,e)),e}function lE(t){const e={},n=s(t,["textInput"]);n!=null&&r(e,["textInput"],n);const i=s(t,["output"]);return i!=null&&r(e,["output"],i),e}function uE(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=s(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>lE(o))),r(e,["examples","examples"],i)}return e}function cE(t,e){const n={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&r(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=s(t,["epochCount"]);e!==void 0&&o!=null&&r(e,["tuningTask","hyperparameters","epochCount"],o);const a=s(t,["learningRateMultiplier"]);if(a!=null&&r(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=s(t,["batchSize"]);e!==void 0&&l!=null&&r(e,["tuningTask","hyperparameters","batchSize"],l);const u=s(t,["learningRate"]);return e!==void 0&&u!=null&&r(e,["tuningTask","hyperparameters","learningRate"],u),n}function fE(t){const e={},n=s(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["trainingDataset"]);i!=null&&r(e,["tuningTask","trainingData"],uE(i));const o=s(t,["config"]);return o!=null&&r(e,["config"],cE(o,e)),e}function dE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["_url","name"],n);const i=s(t,["config"]);return i!=null&&r(e,["config"],i),e}function hE(t,e){const n={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&r(e,["_query","pageSize"],i);const o=s(t,["pageToken"]);e!==void 0&&o!=null&&r(e,["_query","pageToken"],o);const a=s(t,["filter"]);return e!==void 0&&a!=null&&r(e,["_query","filter"],a),n}function pE(t){const e={},n=s(t,["config"]);return n!=null&&r(e,["config"],hE(n,e)),e}function mE(t,e){const n={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);if(e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function gE(t,e){const n={},i=s(t,["gcsUri"]);i!=null&&r(n,["validationDatasetUri"],i);const o=s(t,["vertexDatasetResource"]);return e!==void 0&&o!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],o),n}function yE(t,e){const n={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&r(e,["supervisedTuningSpec"],gE(i,n));const o=s(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&r(e,["tunedModelDisplayName"],o);const a=s(t,["description"]);e!==void 0&&a!=null&&r(e,["description"],a);const l=s(t,["epochCount"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const u=s(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=s(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const c=s(t,["adapterSize"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],c),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function vE(t){const e={},n=s(t,["baseModel"]);n!=null&&r(e,["baseModel"],n);const i=s(t,["trainingDataset"]);i!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],mE(i,e));const o=s(t,["config"]);return o!=null&&r(e,["config"],yE(o,e)),e}function TE(t){const e={},n=s(t,["name"]);n!=null&&r(e,["model"],n);const i=s(t,["name"]);return i!=null&&r(e,["endpoint"],i),e}function _u(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["state"]);i!=null&&r(e,["state"],Ql(i));const o=s(t,["createTime"]);o!=null&&r(e,["createTime"],o);const a=s(t,["tuningTask","startTime"]);a!=null&&r(e,["startTime"],a);const l=s(t,["tuningTask","completeTime"]);l!=null&&r(e,["endTime"],l);const u=s(t,["updateTime"]);u!=null&&r(e,["updateTime"],u);const f=s(t,["description"]);f!=null&&r(e,["description"],f);const c=s(t,["baseModel"]);c!=null&&r(e,["baseModel"],c);const d=s(t,["_self"]);d!=null&&r(e,["tunedModel"],TE(d));const h=s(t,["distillationSpec"]);h!=null&&r(e,["distillationSpec"],h);const p=s(t,["experiment"]);p!=null&&r(e,["experiment"],p);const m=s(t,["labels"]);m!=null&&r(e,["labels"],m);const g=s(t,["pipelineJob"]);g!=null&&r(e,["pipelineJob"],g);const y=s(t,["satisfiesPzi"]);y!=null&&r(e,["satisfiesPzi"],y);const T=s(t,["satisfiesPzs"]);T!=null&&r(e,["satisfiesPzs"],T);const v=s(t,["serviceAccount"]);v!=null&&r(e,["serviceAccount"],v);const C=s(t,["tunedModelDisplayName"]);return C!=null&&r(e,["tunedModelDisplayName"],C),e}function CE(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>_u(a))),r(e,["tuningJobs"],o)}return e}function _E(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["metadata"]);i!=null&&r(e,["metadata"],i);const o=s(t,["done"]);o!=null&&r(e,["done"],o);const a=s(t,["error"]);return a!=null&&r(e,["error"],a),e}function SE(t){const e={},n=s(t,["checkpointId"]);n!=null&&r(e,["checkpointId"],n);const i=s(t,["epoch"]);i!=null&&r(e,["epoch"],i);const o=s(t,["step"]);o!=null&&r(e,["step"],o);const a=s(t,["endpoint"]);return a!=null&&r(e,["endpoint"],a),e}function EE(t){const e={},n=s(t,["model"]);n!=null&&r(e,["model"],n);const i=s(t,["endpoint"]);i!=null&&r(e,["endpoint"],i);const o=s(t,["checkpoints"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>SE(l))),r(e,["checkpoints"],a)}return e}function wi(t){const e={},n=s(t,["name"]);n!=null&&r(e,["name"],n);const i=s(t,["state"]);i!=null&&r(e,["state"],Ql(i));const o=s(t,["createTime"]);o!=null&&r(e,["createTime"],o);const a=s(t,["startTime"]);a!=null&&r(e,["startTime"],a);const l=s(t,["endTime"]);l!=null&&r(e,["endTime"],l);const u=s(t,["updateTime"]);u!=null&&r(e,["updateTime"],u);const f=s(t,["error"]);f!=null&&r(e,["error"],f);const c=s(t,["description"]);c!=null&&r(e,["description"],c);const d=s(t,["baseModel"]);d!=null&&r(e,["baseModel"],d);const h=s(t,["tunedModel"]);h!=null&&r(e,["tunedModel"],EE(h));const p=s(t,["supervisedTuningSpec"]);p!=null&&r(e,["supervisedTuningSpec"],p);const m=s(t,["tuningDataStats"]);m!=null&&r(e,["tuningDataStats"],m);const g=s(t,["encryptionSpec"]);g!=null&&r(e,["encryptionSpec"],g);const y=s(t,["partnerModelTuningSpec"]);y!=null&&r(e,["partnerModelTuningSpec"],y);const T=s(t,["distillationSpec"]);T!=null&&r(e,["distillationSpec"],T);const v=s(t,["experiment"]);v!=null&&r(e,["experiment"],v);const C=s(t,["labels"]);C!=null&&r(e,["labels"],C);const S=s(t,["pipelineJob"]);S!=null&&r(e,["pipelineJob"],S);const E=s(t,["satisfiesPzi"]);E!=null&&r(e,["satisfiesPzi"],E);const _=s(t,["satisfiesPzs"]);_!=null&&r(e,["satisfiesPzs"],_);const M=s(t,["serviceAccount"]);M!=null&&r(e,["serviceAccount"],M);const N=s(t,["tunedModelDisplayName"]);return N!=null&&r(e,["tunedModelDisplayName"],N),e}function xE(t){const e={},n=s(t,["nextPageToken"]);n!=null&&r(e,["nextPageToken"],n);const i=s(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>wi(a))),r(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AE extends Xe{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Wt(Ye.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Ci.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=dE(e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>wi(d))}else{const c=sE(e);return u=V("{name}",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>_u(d))}}async listInternal(e){var n,i,o,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const c=pE(e);return u=V("tuningJobs",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const h=xE(d),p=new Gr;return Object.assign(p,h),p})}else{const c=aE(e);return u=V("tunedModels",c._url),f=c._query,delete c.config,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),l.then(d=>{const h=CE(d),p=new Gr;return Object.assign(p,h),p})}}async tuneInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI()){const u=vE(e);return a=V("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>wi(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fE(e);return a=V("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>_E(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ME{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const PE=1024*1024*8,IE=3,RE=1e3,wE=2,Zn="x-goog-upload-status";async function DE(t,e,n){var i,o,a;let l=0,u=0,f=new _i(new Response),c="upload";for(l=t.size;u<l;){const h=Math.min(PE,l-u),p=t.slice(u,u+h);u+h>=l&&(c+=", finalize");let m=0,g=RE;for(;m<IE&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[Zn]));)m++,await kE(g),g=g*wE;if(u+=h,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Zn])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Zn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function NE(t){return{size:t.size,type:t.type}}function kE(t){return new Promise(e=>setTimeout(e,t))}class VE{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DE(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LE{create(e,n,i){return new FE(e,n,i)}}class FE{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ha="x-goog-api-key";class UE{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ha)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ha,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bE="gl-node/";class HE{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=Np(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const o=new UE(this.apiKey);this.apiClient=new j_({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:bE+"web",uploader:new VE,downloader:new ME}),this.models=new yS(this.apiClient),this.live=new dS(this.apiClient,o,new LE),this.batches=new rg(this.apiClient),this.chats=new cy(this.models,this.apiClient),this.caches=new ay(this.apiClient),this.files=new Ey(this.apiClient),this.operations=new IS(this.apiClient),this.authTokens=new oE(this.apiClient),this.tunings=new AE(this.apiClient)}}export{qE as A,HE as G,JE as m,GE as r};
